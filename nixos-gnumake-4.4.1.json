{
    "version": "https://jsonfeed.org/version/1",
    "title": "NixOS Package PRs for gnumake-4.4.1",
    "home_page_url": "https://pbek.github.io/github-search-rss/nixos-gnumake-4.4.1.json",
    "feed_url": "https://pbek.github.io/github-search-rss/nixos-gnumake-4.4.1.json",
    "description": "NixOS Package PRs for gnumake-4.4.1 on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/226650?u=9603aebc31635c014eac5345c0223757807babef&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Initially the problem was discovered in <code class=\"notranslate\">nixpkgs</code> where update from <code class=\"notranslate\">make-4.4</code> to <code class=\"notranslate\">make-4.4.1</code> broke the build by turning 'make' into no-op (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1609832921\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/219513\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/219513/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/219513\">NixOS/nixpkgs#219513</a>)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"https://hydra.nixos.org/build/211484263/nixlog/4\"><pre class=\"notranslate\"><code class=\"notranslate\">https://hydra.nixos.org/build/211484263/nixlog/4\n</code></pre></div>\n<p dir=\"auto\">It happens because <code class=\"notranslate\">gnumake-4.4.1</code> strated passing a lot more long options into <code class=\"notranslate\">MAKEFLAGS</code>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"MAKEKEFLAGS=' --debug=basic -- LOG=trace ...'\"><pre class=\"notranslate\"><code class=\"notranslate\">MAKEKEFLAGS=' --debug=basic -- LOG=trace ...'\n</code></pre></div>\n<p dir=\"auto\">jdk's make/Init.gmk still assumed <code class=\"notranslate\">MAKEFLAGS</code> does not contain long options:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ifeq ($(findstring p, $(MAKEFLAGS))$(findstring q, $(MAKEFLAGS)), pq)\n  ONLY_GLOBAL_TARGETS := true\nendif\"><pre class=\"notranslate\"><code class=\"notranslate\">ifeq ($(findstring p, $(MAKEFLAGS))$(findstring q, $(MAKEFLAGS)), pq)\n  ONLY_GLOBAL_TARGETS := true\nendif\n</code></pre></div>\n<p dir=\"auto\">This has a high chance of catching <code class=\"notranslate\">pq</code> in unrelated parameters. In case of <code class=\"notranslate\">nixpkgs</code> it was unused <code class=\"notranslate\">SHELL=/&lt;long-hash&gt;/bin/bash</code> variable that happened to contain both <code class=\"notranslate\">p</code> and <code class=\"notranslate\">q</code>.</p>\n<p dir=\"auto\">The change removes long options using $(firstword) mimicing a similar fix in <code class=\"notranslate\">glibc</code> for the same problem:</p>\n<p dir=\"auto\"><a href=\"https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=2d7ed98add14f75041499ac189696c9bd3d757fe\" rel=\"nofollow\">https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=2d7ed98add14f75041499ac189696c9bd3d757fe</a></p>\n\n<hr>\n<h3 dir=\"auto\">Progress</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Change must be properly reviewed (1 review required, with at least 1 <a href=\"https://openjdk.org/bylaws#reviewer\" rel=\"nofollow\">Reviewer</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Change must not contain extraneous whitespace</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message must refer to an issue</li>\n</ul>\n<h3 dir=\"auto\">Error</h3>\n<p dir=\"auto\"> <g-emoji class=\"g-emoji\" alias=\"warning\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/26a0.png\">⚠️</g-emoji> OCA signatory status must be verified</p>\n<h3 dir=\"auto\">Reviewing</h3>\n<details><summary>Using <code class=\"notranslate\">git</code></summary>\n<p dir=\"auto\">Checkout this PR locally: <br>\n<code class=\"notranslate\">$ git fetch https://git.openjdk.org/jdk pull/12992/head:pull/12992</code> <br>\n<code class=\"notranslate\">$ git checkout pull/12992</code></p>\n<p dir=\"auto\">Update a local copy of the PR: <br>\n<code class=\"notranslate\">$ git checkout pull/12992</code> <br>\n<code class=\"notranslate\">$ git pull https://git.openjdk.org/jdk pull/12992/head</code></p>\n</details>\n<details><summary>Using Skara CLI tools</summary>\n<p dir=\"auto\">Checkout this PR locally: <br>\n<code class=\"notranslate\">$ git pr checkout 12992</code></p>\n<p dir=\"auto\">View PR using the GUI difftool: <br>\n<code class=\"notranslate\">$ git pr show -t 12992</code></p>\n</details>\n<details><summary>Using diff file</summary>\n<p dir=\"auto\">Download this PR as a diff file: <br>\n<a href=\"https://git.openjdk.org/jdk/pull/12992.diff\" rel=\"nofollow\"></a><a href=\"https://git.openjdk.org/jdk/pull/12992.diff\" rel=\"nofollow\">https://git.openjdk.org/jdk/pull/12992.diff</a></p>\n</details>",
            "url": "https://github.com/openjdk/jdk/pull/12992",
            "title": "make/Init.gmk: fix build build for make-4.4.1",
            "date_modified": "2023-05-10T21:44:10.000Z",
            "date_published": "2023-03-12T10:44:11.000Z",
            "author": {
                "name": "trofi",
                "url": "https://github.com/trofi"
            }
        }
    ]
}