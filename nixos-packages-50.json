{
    "version": "https://jsonfeed.org/version/1",
    "title": "NixOS Package PRs for kde-inotify-survey, sudo, xrandr, gzip-1.12, spice-gtk-0.42, gnumake-4.4.1 packages",
    "home_page_url": "https://pbek.github.io/github-search-rss/nixos-packages-50.json",
    "feed_url": "https://pbek.github.io/github-search-rss/nixos-packages-50.json",
    "description": "NixOS Package PRs for kde-inotify-survey, sudo, xrandr, gzip-1.12, spice-gtk-0.42, gnumake-4.4.1 packages on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/32674935?u=3a1756ec49aa4365d95af353ee794c99324d5dad&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">Added submodule to <code class=\"notranslate\">doas</code> for sudo shim, like <code class=\"notranslate\">programs.neovim.vimAlias</code>, but using a shim package which can map <code class=\"notranslate\">--login</code> and <code class=\"notranslate\">--shell</code> options in sudo style. Useful when running scripts which have dependency on sudo command.</p>\n<p dir=\"auto\">Also added tests and linked them back to package test. Since due to lack of security wrappers it is hard to test in package itself. But with NixOS tests it's possible. Useful for future package updates.</p>\n<p dir=\"auto\">Also added package option, but that's minor.</p>\n<p dir=\"auto\">There are multiple changes in this PR, but the main one is submodule. Others are minor, but if required can split into separate PRs, but put them out sequentially to avoid rebasing too much.</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2305-release-notes\">23.05 Release Notes (or backporting 22.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n",
            "url": "https://github.com/NixOS/nixpkgs/pull/228387",
            "title": "nixos/doas: add options for sudo shim ",
            "date_modified": "2023-05-12T13:45:59.000Z",
            "date_published": "2023-04-26T20:29:57.000Z",
            "author": {
                "name": "dani0854",
                "url": "https://github.com/dani0854"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/18467667?u=7a1dfd6f580c4a3382d9be6e9e7f341721b95858&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">Currently, executing <code class=\"notranslate\">nixos-rebuild switch</code> as a non-root user will<br>\nresult in a somewhat confusing error about being unable to link a<br>\nprofile to a nix store path. This is not ideal, especially as we already<br>\nhave most of the code to handle this properly and use <code class=\"notranslate\">sudo</code> to elevate<br>\npermissions to install.</p>\n<p dir=\"auto\">This is preferrable for flakes (better eval caching), and also more<br>\nintuitive for new users.</p>\n<p dir=\"auto\">FIXME</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Add this to the release notes</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Mention it in the documentation</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Consider printing some message about using sudo</li>\n</ul>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2305-release-notes\">23.05 Release Notes (or backporting 22.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n",
            "url": "https://github.com/NixOS/nixpkgs/pull/216710",
            "title": "nixos-rebuild: use sudo when whoami != root",
            "date_modified": "2023-02-23T19:31:32.000Z",
            "date_published": "2023-02-16T22:47:36.000Z",
            "author": {
                "name": "balsoft",
                "url": "https://github.com/balsoft"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3392199?u=ea5d4de310b62d0da01a34fa3b52130e6c9c3258&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">Using <code class=\"notranslate\">security.sudo.extraRules</code> to generate the resulting <code class=\"notranslate\">sudo</code><br>\nexpression for the 'wheel' group causes problems with other<br>\n<code class=\"notranslate\">extraRules</code> definitions for the 'wheel' group (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"424988706\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/58276\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/58276/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/58276\">#58276</a>)</p>\n<h6 dir=\"auto\">Things done</h6>\n<p dir=\"auto\">These changes implement the same result, but ensure that the <code class=\"notranslate\">sudo</code><br>\nexpression for the 'wheel' group is placed before any <code class=\"notranslate\">extraRules</code> the<br>\nuser may define.</p>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested using sandboxing (<a href=\"http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"http://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nix-review --run \"nix-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Assured whether relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n<hr>",
            "url": "https://github.com/NixOS/nixpkgs/pull/58396",
            "title": "nixos/security: don't use sudo.extraRules for wheel rule",
            "date_modified": "2023-04-17T13:44:51.000Z",
            "date_published": "2019-03-26T19:04:35.000Z",
            "author": {
                "name": "cmacrae",
                "url": "https://github.com/cmacrae"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/14816024?u=46a8cd37a5e011e2f5eac1728f9e458fea305715&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">Current option <code class=\"notranslate\">--use-remote-sudo</code> doesn't work when remote <code class=\"notranslate\">sudo</code> asking for password.<br>\nAnd it also cause all command to be prefixed by <code class=\"notranslate\">sudo</code>, including commands for building, copying and querying,<br>\nwhich usually doesn't need root permission at all.</p>\n<p dir=\"auto\">In this PR:</p>\n<ul dir=\"auto\">\n<li>Added an option <code class=\"notranslate\">--use-remote-sudo-activate</code> for minimal usage of sudo, which only acquire root permission on activation related commands.</li>\n<li>Added <code class=\"notranslate\">-t</code> for ssh when <code class=\"notranslate\">sudo</code> is used. This is needed when <code class=\"notranslate\">sudo</code> asking for password.</li>\n</ul>\n<p dir=\"auto\">Tested commands <code class=\"notranslate\">test</code> and <code class=\"notranslate\">boot</code> with <code class=\"notranslate\">--target-host --use-remote-sudo-activate</code>.</p>\n<p dir=\"auto\">Related commits:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/NixOS/nixpkgs/commit/2c09cfc097daef5b85d21fe906441b5702bb2101\">nixos-rebuild: add explicit option to enable (remote) sudo</a> (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"511516839\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/71849\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/71849/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/71849\">#71849</a>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/commit/ab10bac1b177832b5e6b883ba95bf35f87229267\">nixos-rebuild: fix the maybeSudo usage</a></li>\n</ul>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested using sandboxing (<a href=\"https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"https://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS linux)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Ensured that relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/109046",
            "title": "nixos-rebuild: add option `--use-remote-sudo-activate`",
            "date_modified": "2023-01-08T00:43:39.000Z",
            "date_published": "2021-01-11T19:45:34.000Z",
            "author": {
                "name": "oxalica",
                "url": "https://github.com/oxalica"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/34083928?u=c672292f80ef76ab91078df4464ff3398724be68&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">Perhaps there is some circumstance I am overlooking, but root access is necessary to rebuild the system, so the only scenario where we don't need <code class=\"notranslate\">sudo</code> is when calling <code class=\"notranslate\">nixos-rebuild</code> as root.</p>\n<p dir=\"auto\">Perhaps as a failsafe for those who use <code class=\"notranslate\">sudo</code> alternatives, we should check if sudo exists in PATH first? Open to suggestions on that.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #169193.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1207001702\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/169193\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/169193/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/169193\">#169193</a></p>",
            "url": "https://github.com/NixOS/nixpkgs/pull/170501",
            "title": "nixos-rebuild: always call sudo when not root",
            "date_modified": "2022-08-24T05:51:11.000Z",
            "date_published": "2022-04-26T21:04:29.000Z",
            "author": {
                "name": "nrdxp",
                "url": "https://github.com/nrdxp"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/76716?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Given the following hypothetical:</p>\n<blockquote>\n<p dir=\"auto\">Nix allows any user to install software in to their PATH. A crafty<br>\nperson with malicious intent could use Nix to alter the installed<br>\nsoftware of a given user without editing their PATH, and without any<br>\n\"writable\" user directories in the PATH.</p>\n</blockquote>\n<p dir=\"auto\">This change explicitly sets sudo's PATH to only include root installed<br>\nsoftware. This at least reduces the chances of that hypothetical<br>\ncoming true.</p>\n<p dir=\"auto\">Tested and seemed to work a treat. Also easy to roll back if it is<br>\nunwanted.</p>\n\n<h6 dir=\"auto\">Motivation for this change</h6>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested using sandboxing (<a href=\"http://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"http://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nix-review --run \"nix-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Ensured that relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n<hr>",
            "url": "https://github.com/NixOS/nixpkgs/pull/64209",
            "title": "sudo: set secure_path with root-installed software only",
            "date_modified": "2021-05-31T05:57:44.000Z",
            "date_published": "2019-07-03T00:41:02.000Z",
            "author": {
                "name": "grahamc",
                "url": "https://github.com/grahamc"
            }
        }
    ]
}