{
    "version": "https://jsonfeed.org/version/1",
    "title": "NixOS Package PRs for gnumake",
    "home_page_url": "https://pbek.github.io/github-search-rss/nixos-gnumake.json",
    "feed_url": "https://pbek.github.io/github-search-rss/nixos-gnumake.json",
    "description": "NixOS Package PRs for gnumake on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/226650?u=9603aebc31635c014eac5345c0223757807babef&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Initially the problem was discovered in <code class=\"notranslate\">nixpkgs</code> where update from <code class=\"notranslate\">make-4.4</code> to <code class=\"notranslate\">make-4.4.1</code> broke the build by turning 'make' into no-op (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1609832921\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/219513\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/219513/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/219513\">NixOS/nixpkgs#219513</a>)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"https://hydra.nixos.org/build/211484263/nixlog/4\"><pre class=\"notranslate\"><code class=\"notranslate\">https://hydra.nixos.org/build/211484263/nixlog/4\n</code></pre></div>\n<p dir=\"auto\">It happens because <code class=\"notranslate\">gnumake-4.4.1</code> strated passing a lot more long options into <code class=\"notranslate\">MAKEFLAGS</code>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"MAKEKEFLAGS=' --debug=basic -- LOG=trace ...'\"><pre class=\"notranslate\"><code class=\"notranslate\">MAKEKEFLAGS=' --debug=basic -- LOG=trace ...'\n</code></pre></div>\n<p dir=\"auto\">jdk's make/Init.gmk still assumed <code class=\"notranslate\">MAKEFLAGS</code> does not contain long options:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ifeq ($(findstring p, $(MAKEFLAGS))$(findstring q, $(MAKEFLAGS)), pq)\n  ONLY_GLOBAL_TARGETS := true\nendif\"><pre class=\"notranslate\"><code class=\"notranslate\">ifeq ($(findstring p, $(MAKEFLAGS))$(findstring q, $(MAKEFLAGS)), pq)\n  ONLY_GLOBAL_TARGETS := true\nendif\n</code></pre></div>\n<p dir=\"auto\">This has a high chance of catching <code class=\"notranslate\">pq</code> in unrelated parameters. In case of <code class=\"notranslate\">nixpkgs</code> it was unused <code class=\"notranslate\">SHELL=/&lt;long-hash&gt;/bin/bash</code> variable that happened to contain both <code class=\"notranslate\">p</code> and <code class=\"notranslate\">q</code>.</p>\n<p dir=\"auto\">The change removes long options using $(firstword) mimicing a similar fix in <code class=\"notranslate\">glibc</code> for the same problem:</p>\n<p dir=\"auto\"><a href=\"https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=2d7ed98add14f75041499ac189696c9bd3d757fe\" rel=\"nofollow\">https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=2d7ed98add14f75041499ac189696c9bd3d757fe</a></p>\n\n<hr>\n<h3 dir=\"auto\">Progress</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Change must be properly reviewed (1 review required, with at least 1 <a href=\"https://openjdk.org/bylaws#reviewer\" rel=\"nofollow\">Reviewer</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Change must not contain extraneous whitespace</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message must refer to an issue</li>\n</ul>\n<h3 dir=\"auto\">Error</h3>\n<p dir=\"auto\">¬†<g-emoji class=\"g-emoji\" alias=\"warning\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/26a0.png\">‚ö†Ô∏è</g-emoji> OCA signatory status must be verified</p>\n<h3 dir=\"auto\">Reviewing</h3>\n<details><summary>Using <code class=\"notranslate\">git</code></summary>\n<p dir=\"auto\">Checkout this PR locally: <br>\n<code class=\"notranslate\">$ git fetch https://git.openjdk.org/jdk pull/12992/head:pull/12992</code> <br>\n<code class=\"notranslate\">$ git checkout pull/12992</code></p>\n<p dir=\"auto\">Update a local copy of the PR: <br>\n<code class=\"notranslate\">$ git checkout pull/12992</code> <br>\n<code class=\"notranslate\">$ git pull https://git.openjdk.org/jdk pull/12992/head</code></p>\n</details>\n<details><summary>Using Skara CLI tools</summary>\n<p dir=\"auto\">Checkout this PR locally: <br>\n<code class=\"notranslate\">$ git pr checkout 12992</code></p>\n<p dir=\"auto\">View PR using the GUI difftool: <br>\n<code class=\"notranslate\">$ git pr show -t 12992</code></p>\n</details>\n<details><summary>Using diff file</summary>\n<p dir=\"auto\">Download this PR as a diff file: <br>\n<a href=\"https://git.openjdk.org/jdk/pull/12992.diff\" rel=\"nofollow\"></a><a href=\"https://git.openjdk.org/jdk/pull/12992.diff\" rel=\"nofollow\">https://git.openjdk.org/jdk/pull/12992.diff</a></p>\n</details>",
            "url": "https://github.com/openjdk/jdk/pull/12992",
            "title": "make/Init.gmk: fix build build for make-4.4.1",
            "date_modified": "2023-05-10T21:44:10.000Z",
            "date_published": "2023-03-12T10:44:11.000Z",
            "author": {
                "name": "trofi",
                "url": "https://github.com/trofi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1178864?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This introduces flake support to nixpack:<br>\nIt exposes <code class=\"notranslate\">lib.packs</code> and the spack packages behind pkgs attribute (bootstrapped with the default gcc compiler from nixpkgs).</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"nix build .#pkgs.mpileaks --impure --option sandbox false -L\"><pre class=\"notranslate\">nix build .<span class=\"pl-c\"><span class=\"pl-c\">#</span>pkgs.mpileaks --impure --option sandbox false -L</span></pre></div>\n<p dir=\"auto\">As SPACK need to be patched, it is imported from flatironinstitute fork.<br>\nAs nixpkgs need also to be patched [1], it is imported from my fork.</p>\n<p dir=\"auto\">[1] <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1045861898\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/144747\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/144747/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/144747\">NixOS/nixpkgs#144747</a></p>",
            "url": "https://github.com/flatironinstitute/nixpack/pull/8",
            "title": "flake support",
            "date_modified": "2023-05-08T18:17:47.000Z",
            "date_published": "2021-12-10T14:34:05.000Z",
            "author": {
                "name": "dguibert",
                "url": "https://github.com/dguibert"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/20525370?u=3eca42cd1f8dd49002816cd842937abef0d1b030&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h1 dir=\"auto\">Motivation</h1>\n<p dir=\"auto\">Adds simple Python bindings for Nix evaluation, initialized from <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/Mic92/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Mic92\">@Mic92</a>'s archived <a href=\"https://github.com/Mic92/pythonix\">Pythonix</a> (including the license), but then updated to work with the latest Nix version. This relates to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1438407433\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nix/issues/7271\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nix/issues/7271/hovercard\" href=\"https://github.com/NixOS/nix/issues/7271\">#7271</a></p>\n<p dir=\"auto\">Just like the existing Perl bindings under <code class=\"notranslate\">pkgs.nix.perl-bindings</code>, these Python bindings are available as a separate derivation under <code class=\"notranslate\">pkgs.nix.python-bindings</code>. This is a Python package that can be used as <code class=\"notranslate\">python.withPackages (p: [ pkgs.nix.python-bindings ]</code></p>\n<p dir=\"auto\">The API currently is just a single function:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">nix.eval(str, vars: dict)</code><br>\nEvaluates the Nix expression <code class=\"notranslate\">str</code> with variables <code class=\"notranslate\">vars</code> in scope. <code class=\"notranslate\">vars</code> is transparently converted from Python values to Nix values. The result of this function is transparently converted from a Nix value to a Python value.</li>\n</ul>\n<p dir=\"auto\">An example:</p>\n<details>\n<summary>flake.nix</summary>\n<div class=\"highlight highlight-source-nix notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{\n  inputs.nix.url = &quot;github:tweag/nix/python-bindings&quot;;\n  inputs.nixpkgs.follows = &quot;nix/nixpkgs&quot;;\n  inputs.flake-utils.url = &quot;github:numtide/flake-utils&quot;;\n\n  outputs = { nix, nixpkgs, flake-utils, ... }: flake-utils.lib.eachDefaultSystem (system: {\n    defaultPackage = nixpkgs.legacyPackages.${system}.pkgs.python3.withPackages (p: [\n      nix.packages.${system}.nix.python-bindings\n    ]);\n  });\n}\"><pre class=\"notranslate\">{\n  <span class=\"pl-e\">inputs</span>.<span class=\"pl-e\">nix</span>.<span class=\"pl-e\">url</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github:tweag/nix/python-bindings<span class=\"pl-pds\">\"</span></span>;\n  <span class=\"pl-e\">inputs</span>.<span class=\"pl-e\">nixpkgs</span>.<span class=\"pl-e\">follows</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>nix/nixpkgs<span class=\"pl-pds\">\"</span></span>;\n  <span class=\"pl-e\">inputs</span>.<span class=\"pl-e\">flake-utils</span>.<span class=\"pl-e\">url</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github:numtide/flake-utils<span class=\"pl-pds\">\"</span></span>;\n\n  <span class=\"pl-e\">outputs</span> <span class=\"pl-k\">=</span> { <span class=\"pl-smi\">nix</span><span class=\"pl-k\">,</span> <span class=\"pl-smi\">nixpkgs</span><span class=\"pl-k\">,</span> <span class=\"pl-smi\">flake-utils</span><span class=\"pl-k\">,</span> <span class=\"pl-k\">... </span>}: <span class=\"pl-v\">flake-utils</span><span class=\"pl-k\">.</span><span class=\"pl-v\">lib</span><span class=\"pl-k\">.</span><span class=\"pl-v\">eachDefaultSystem</span> (<span class=\"pl-smi\">system</span>: {\n    <span class=\"pl-e\">defaultPackage</span> <span class=\"pl-k\">=</span> <span class=\"pl-v\">nixpkgs</span><span class=\"pl-k\">.</span><span class=\"pl-v\">legacyPackages</span><span class=\"pl-k\">.</span><span class=\"pl-pse\">${</span><span class=\"pl-v\">system</span><span class=\"pl-pse\">}</span><span class=\"pl-k\">.</span><span class=\"pl-v\">pkgs</span><span class=\"pl-k\">.</span><span class=\"pl-v\">python3</span><span class=\"pl-k\">.</span><span class=\"pl-v\">withPackages</span> (<span class=\"pl-smi\">p</span>: [\n      <span class=\"pl-v\">nix</span><span class=\"pl-k\">.</span><span class=\"pl-v\">packages</span><span class=\"pl-k\">.</span><span class=\"pl-pse\">${</span><span class=\"pl-v\">system</span><span class=\"pl-pse\">}</span><span class=\"pl-k\">.</span><span class=\"pl-v\">nix</span><span class=\"pl-k\">.</span><span class=\"pl-v\">python-bindings</span>\n    ]);\n  });\n}</pre></div>\n</details>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ nix run\nPython 3.10.8 (main, Oct 11 2022, 11:35:05) [GCC 11.3.0] on linux\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt; import nix\n&gt;&gt;&gt; nix.eval(&quot;1 + a&quot;, vars=dict(a = 2))\n3\"><pre class=\"notranslate\"><code class=\"notranslate\">$ nix run\nPython 3.10.8 (main, Oct 11 2022, 11:35:05) [GCC 11.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import nix\n&gt;&gt;&gt; nix.eval(\"1 + a\", vars=dict(a = 2))\n3\n</code></pre></div>\n<p dir=\"auto\">This work is sponsored by <a href=\"https://antithesis.com/\" rel=\"nofollow\">Antithesis</a> <g-emoji class=\"g-emoji\" alias=\"sparkles\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2728.png\">‚ú®</g-emoji></p>\n<h1 dir=\"auto\">TODO</h1>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Confirm that the Pythonix source code can be used: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1566981515\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nix/issues/7735\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nix/pull/7735/hovercard?comment_id=1093829625&amp;comment_type=review_comment\" href=\"https://github.com/NixOS/nix/pull/7735#discussion_r1093829625\">#7735 (comment)</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Make the build work, both incrementally for development and in CI</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Mark as experimental (<a href=\"https://github.com/NixOS/nix/pull/7735#issuecomment-1415853274\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nix/pull/7735/hovercard\">decided by the Nix Team</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Write more tests</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Write documentation\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> How to develop the bindings</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Manual page for how to use the bindings</li>\n</ul>\n</li>\n</ul>\n<h1 dir=\"auto\">Context</h1>\n<p dir=\"auto\">The motivation for this is better tests for library functions in nixpkgs. Previous efforts:</p>\n<ul dir=\"auto\">\n<li>Using <a href=\"https://github.com/bats-core/bats-core\">bats</a>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1327316875\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/185022\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/185022/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/185022\">NixOS/nixpkgs#185022</a></li>\n<li>Using awk for generating property tests: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1485434623\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/205190\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/205190/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/205190\">NixOS/nixpkgs#205190</a>, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1519661931\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209099\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209099/hovercard?comment_id=1069177623&amp;comment_type=review_comment\" href=\"https://github.com/NixOS/nixpkgs/pull/209099#discussion_r1069177623\">NixOS/nixpkgs#209099 (comment)</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1558912770\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/212858\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/212858/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/212858\">NixOS/nixpkgs#212858</a></li>\n</ul>\n<p dir=\"auto\">In particular <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1558912770\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/212858\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/212858/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/212858\">NixOS/nixpkgs#212858</a> highlighted that property tests are currently either slow (if using the Nix CLI) or limited (if you work around this by cramming everything into a single Nix CLI call, which then means you can't test error messages anymore).</p>\n<p dir=\"auto\">I then instead focused on <a href=\"https://github.com/Mic92/pythonix\">Pythonix</a>, third-party Python bindings for the Nix evaluator. By using Python for testing we can use the Python ecosystem (such as property testing using <a href=\"https://hypothesis.readthedocs.io/\" rel=\"nofollow\">Hypothesis</a>), and by it linking to the Nix library it's much faster and we can test error messages too. Unfortunately Pythonix was archived due to being too hard to maintain, since the library interface isn't stable. So the fix is to just upstream it instead.</p>\n<h1 dir=\"auto\">Checklist for maintainers</h1>\n<p dir=\"auto\">Maintainers: tick if completed or explain if not relevant</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> agreed on idea</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> agreed on implementation strategy</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> tests, as appropriate\n<ul dir=\"auto\">\n<li>functional tests - <code class=\"notranslate\">tests/**.sh</code></li>\n<li>unit tests - <code class=\"notranslate\">src/*/tests</code></li>\n<li>integration tests - <code class=\"notranslate\">tests/nixos/*</code></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> documentation in the manual</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> code and comments are self-explanatory</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> commit message explains why the change was made</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> new feature or bug fix: updated release notes</li>\n</ul>",
            "url": "https://github.com/NixOS/nix/pull/7735",
            "title": "Experimental python bindings",
            "date_modified": "2023-04-21T08:52:09.000Z",
            "date_published": "2023-02-01T23:00:31.000Z",
            "author": {
                "name": "infinisil",
                "url": "https://github.com/infinisil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12595971?u=4828007814837275ec31f886771a1a2553e94eba&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">this allows setting a different retention policy for debug symbols in s3 backed binary caches.</p>\n<h1 dir=\"auto\">Motivation</h1>\n<p dir=\"auto\">We currently have debug symbols for very few libraries in NixOS. Recompiling everything to get debug symbols is non trivial and time consuming.<br>\nThe main objection (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"176322628\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/18530\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/18530/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/18530\">NixOS/nixpkgs#18530</a>) to enabling debug symbols on a large scale is that they are heavy (on my system, about 50% larger on average than the original libraries) so storage costs for the official binary cache would be unacceptable. One possible idea is to keep debug symbols for a shorter period than other packages (which are currently stores forever), for example 7 months (support duration of a release).<br>\nThis implies being able to know what nars to remove 7 month from now.</p>\n<p dir=\"auto\">.narinfo files contain the name of the store path. A naive approach could be to  download all narinfo, read them for paths ending in -debug, and send DELETE queries to amazon but this will take forever and cost many requests.</p>\n<p dir=\"auto\">A better approach is to rely on the ability of s3 to selectively expire objects after a delay</p>\n<ul dir=\"auto\">\n<li>by directory (prefix)</li>\n<li>by tag</li>\n</ul>\n<p dir=\"auto\">By prefix: it would be possible to move debug related nars to another directory instead of nar/, and point narinfo files to it. Although it's undocumented this breaks the format of binary caches and I fear may have unsuspected consequences. For this reason I tried the approach of tagging debuginfo related nars at upload time.</p>\n<p dir=\"auto\">In terms of implementation, binary caches are given a hint when uploading a file, and this hint is set to debug for debug nars.<br>\nOnly the s3 implem uses the hint currently. This does not really add special casing for debug nars, as there was already an option about them (index-debug-info).</p>\n<p dir=\"auto\">Note: in my opinion this is of limited usefulness if people in charge of the official binary cache don't like this approach. Can someone confirm that hydra does not use multipart uploads ? I did not find a way to make this work with multipart uploads.</p>\n<h1 dir=\"auto\">Context</h1>\n<p dir=\"auto\">Alternatives: keep living without debug info on NixOS forever. More seriously see the discussions at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"176322628\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/18530\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/18530/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/18530\">NixOS/nixpkgs#18530</a></p>\n<h1 dir=\"auto\">Checklist for maintainers</h1>\n\n<p dir=\"auto\">Maintainers: tick if completed or explain if not relevant</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> agreed on idea</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> agreed on implementation strategy</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> tests, as appropriate\n<ul dir=\"auto\">\n<li>functional tests - <code class=\"notranslate\">tests/**.sh</code></li>\n<li>unit tests - <code class=\"notranslate\">src/*/tests</code></li>\n<li>integration tests - <code class=\"notranslate\">tests/nixos/*</code></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> documentation in the manual</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> code and comments are self-explanatory</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> commit message explains why the change was made</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> new feature or incompatible change: updated release notes</li>\n</ul>\n<h1 dir=\"auto\">Priorities</h1>\n<p dir=\"auto\">Add <g-emoji class=\"g-emoji\" alias=\"+1\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png\">üëç</g-emoji> to <a href=\"https://github.com/NixOS/nix/pulls?q=is%3Aopen+sort%3Areactions-%2B1-desc\">pull requests you find important</a>.</p>",
            "url": "https://github.com/NixOS/nix/pull/8080",
            "title": "tag nars containing only lib/debug as `hint=debug` when uploading to s3",
            "date_modified": "2023-04-17T09:44:33.000Z",
            "date_published": "2023-03-20T21:02:27.000Z",
            "author": {
                "name": "symphorien",
                "url": "https://github.com/symphorien"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7258858?u=c524720e2844ffa8a2aa67944fde5af54031e06d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">‚Ä¶clude dir which pointed to $out/include</p>\n<h6 dir=\"auto\">Description of changes</h6>\n\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2205-release-notes\">22.05 Release Notes (or backporting 21.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Release notes changes) Ran <code class=\"notranslate\">nixos/doc/manual/md-to-db.sh</code> to update generated release notes</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n",
            "url": "https://github.com/NixOS/nixpkgs/pull/170712",
            "title": "gnumake: move $out/include/gnumake.h to dev output, remove default in‚Ä¶",
            "date_modified": "2023-01-08T01:56:24.000Z",
            "date_published": "2022-04-28T01:45:36.000Z",
            "author": {
                "name": "SuperSandro2000",
                "url": "https://github.com/SuperSandro2000"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12958815?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h2 dir=\"auto\">Summary</h2>\n<p dir=\"auto\">limit jobs when jest-worker is running under make / cmake / ninja</p>\n<h2 dir=\"auto\">Details</h2>\n<p dir=\"auto\">use case: chromium or qtwebengine<br>\ncall stack: devtools-frontend -&gt; rollup -&gt; terser -&gt; jest-worker</p>\n<p dir=\"auto\">by default, jest-worker spawns $nproc workers (100 workers on a 100 core machine)<br>\neven if jobs are limited with <code class=\"notranslate\">make -j10 -l10</code></p>\n<p dir=\"auto\">this overload causes trouble on build servers -&gt; downstream issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1275848319\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/178171\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/178171/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/178171\">NixOS/nixpkgs#178171</a></p>\n<p dir=\"auto\">based on my <a href=\"https://github.com/milahu/gnumake-tokenpool\">gnumake-tokenpool</a></p>\n<p dir=\"auto\">needs some polish -&gt; draft PR</p>\n<h2 dir=\"auto\">Versions</h2>\n<ul dir=\"auto\">\n<li>jest-worker@28.1.1 <a href=\"https://github.com/milahu/jest/tree/add-gnumake-jobclient\">source</a> and <a href=\"https://github.com/milahu/jest-worker\">compiled</a> (outdated, needs <a href=\"https://github.com/milahu/gnumake-tokenpool/commit/247c42b6ac517c3e4b45de0af22d57ad45ec44a7\">bugfix</a>)</li>\n<li>jest-worker@26.6.2 <a href=\"https://github.com/milahu/jest/tree/add-gnumake-jobclient-backport-jest-worker-26.6.2\">source</a> and <a href=\"https://github.com/milahu/jest-worker/tree/26.6.2\">compiled</a></li>\n</ul>\n<h2 dir=\"auto\">Test plan</h2>\n<p dir=\"auto\">manual test in <code class=\"notranslate\">packages/jest-worker/tests/jobserver/test.sh</code><br>\ntodo: integrate with automatic tests<br>\nthe test requires gnumake to run</p>\n<p dir=\"auto\">synthetic test is passing</p>\n<p dir=\"auto\">i have <a href=\"https://github.com/milahu/nixpkgs/tree/qt6-631-debug-qtwebengine\">integrated this change into chromium</a>, now the job count is limited by <a href=\"https://github.com/ninja-build/ninja/issues/1139#issuecomment-461750356\" data-hovercard-type=\"issue\" data-hovercard-url=\"/ninja-build/ninja/issues/1139/hovercard\">ninja</a></p>\n<h2 dir=\"auto\">API change</h2>\n<p dir=\"auto\">i had to change some internal APIs between Farm and WorkerPool (bump major version?)<br>\ni hope noone depends on the old APIs ...<br>\nif needed, this can be made backward compatible</p>\n<h2 dir=\"auto\">debug prints</h2>\n<p dir=\"auto\">for production builds, the debug prints could be removed by typescript</p>",
            "url": "https://github.com/jestjs/jest/pull/12968",
            "title": "feat(jest-worker): add gnumake jobclient to limit number of workers",
            "date_modified": "2022-07-04T11:59:26.000Z",
            "date_published": "2022-06-26T16:20:08.000Z",
            "author": {
                "name": "milahu",
                "url": "https://github.com/milahu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/30078229?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Switch to TinyUSB 0.14.0</p>\n<p dir=\"auto\">updates lib/tinyusb submodule to 0.14.0 and adapts board source files accordingly<br>\nfirmware for daisho couldn't be build to to missing bsp in TinyUSB</p>\n<p dir=\"auto\">current TinyUSB submodule makes building for ESP32-S2 quite hard</p>",
            "url": "https://github.com/greatscottgadgets/apollo/pull/13",
            "title": "modules: switch to tinyusb 0.14.0",
            "date_modified": "2023-04-01T21:16:31.000Z",
            "date_published": "2023-02-03T22:18:24.000Z",
            "author": {
                "name": "cyber-murmel",
                "url": "https://github.com/cyber-murmel"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5737016?u=1744522506e84b87b7e0f43f16d027199d320c61&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Problem</h6>\n<p dir=\"auto\">I want to compile <a href=\"https://github.com/Rust-for-Linux/linux\">https://github.com/Rust-for-Linux/linux</a> in Nix so that the kernel keeps <code class=\"notranslate\">CONFIG_RUST=y</code> and does not silently drop it during the build. The generated <code class=\"notranslate\">./scripts/target.json</code> file must also be kept to enable (out-of-tree) module builds. This requires changes in <code class=\"notranslate\">pkgs.linuxKernel.manualConfig</code>.</p>\n<p dir=\"auto\">I use the following Nix code to build the kernel. It uses the nixpkgs changes that are also part of this PR.</p>\n<p dir=\"auto\">Nix code:</p>\n<details>\n<div class=\"highlight highlight-source-nix notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{ lib\n, pkgs\n, rustc\n, rust-bindgen\n}:\n\nlet\n  src =\n    let\n      rev = &quot;bc22545f38d74473cfef3e9fd65432733435b79f&quot;;\n    in\n    builtins.fetchTarball {\n      url = &quot;https://github.com/Rust-for-Linux/linux/archive/${rev}.tar.gz&quot;;\n      sha256 = &quot;sha256:18mxvk1l97448m9s55zc60nlgwb5dnzl1akpz12xyvigc5kz3q7r&quot;;\n    };\n  # Function that builds a kernel from the provided Linux source with the\n  # given config.\n  buildKernel = pkgs.linuxKernel.manualConfig {\n    inherit (pkgs) stdenv lib;\n\n    inherit src;\n    # This is a valid config file with activated Rust support. It works\n    # with regular builds (outside of Nix)\n    configfile = ./kernel.config;\n\n    # Required so that the kernel activates Rust support. \n    # Uses my local Nix fork at the moment\n    # -&gt; https://github.com/NixOS/nixpkgs/pull/232861/files\n    extra-build-dependencies = [ rustc rust-bindgen ];\n\n    version = &quot;6.3&quot;;\n    # Probably that's a weird nixpkgs upstream thingy. Linux 6.3 wants\n    # &quot;6.3.0&quot; instead of &quot;6.3&quot;.\n    modDirVersion = &quot;6.3.0&quot;;\n\n    allowImportFromDerivation = true;\n\n    extraMakeFlags = [\n      # Helps to detect the output of the rust_is_available.sh script.\n      &quot;V=12&quot;\n    ];\n  };\nin\nbuildKernel\"><pre class=\"notranslate\">{ <span class=\"pl-smi\">lib</span>\n<span class=\"pl-k\">,</span> <span class=\"pl-smi\">pkgs</span>\n<span class=\"pl-k\">,</span> <span class=\"pl-smi\">rustc</span>\n<span class=\"pl-k\">,</span> <span class=\"pl-smi\">rust-bindgen</span>\n}:\n\n<span class=\"pl-k\">let</span>\n  <span class=\"pl-e\">src</span> <span class=\"pl-k\">=</span>\n    <span class=\"pl-k\">let</span>\n      <span class=\"pl-e\">rev</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bc22545f38d74473cfef3e9fd65432733435b79f<span class=\"pl-pds\">\"</span></span>;\n    <span class=\"pl-k\">in</span>\n    <span class=\"pl-c1\">builtins</span><span class=\"pl-k\">.</span><span class=\"pl-v\">fetchTarball</span> {\n      <span class=\"pl-e\">url</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://github.com/Rust-for-Linux/linux/archive/<span class=\"pl-pse\">${</span><span class=\"pl-v\">rev</span><span class=\"pl-pse\">}</span>.tar.gz<span class=\"pl-pds\">\"</span></span>;\n      <span class=\"pl-e\">sha256</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sha256:18mxvk1l97448m9s55zc60nlgwb5dnzl1akpz12xyvigc5kz3q7r<span class=\"pl-pds\">\"</span></span>;\n    };\n  <span class=\"pl-c\"># Function that builds a kernel from the provided Linux source with the</span>\n  <span class=\"pl-c\"># given config.</span>\n  <span class=\"pl-e\">buildKernel</span> <span class=\"pl-k\">=</span> <span class=\"pl-v\">pkgs</span><span class=\"pl-k\">.</span><span class=\"pl-v\">linuxKernel</span><span class=\"pl-k\">.</span><span class=\"pl-v\">manualConfig</span> {\n    <span class=\"pl-k\">inherit</span> (<span class=\"pl-v\">pkgs</span>) <span class=\"pl-e\">stdenv</span> <span class=\"pl-e\">lib</span>;\n\n    <span class=\"pl-k\">inherit</span> <span class=\"pl-e\">src</span>;\n    <span class=\"pl-c\"># This is a valid config file with activated Rust support. It works</span>\n    <span class=\"pl-c\"># with regular builds (outside of Nix)</span>\n    <span class=\"pl-e\">configfile</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\">./kernel.config</span>;\n\n    <span class=\"pl-c\"># Required so that the kernel activates Rust support. </span>\n    <span class=\"pl-c\"># Uses my local Nix fork at the moment</span>\n    <span class=\"pl-c\"># -&gt; https://github.com/NixOS/nixpkgs/pull/232861/files</span>\n    <span class=\"pl-e\">extra-build-dependencies</span> <span class=\"pl-k\">=</span> [ <span class=\"pl-v\">rustc</span> <span class=\"pl-v\">rust-bindgen</span> ];\n\n    <span class=\"pl-e\">version</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>6.3<span class=\"pl-pds\">\"</span></span>;\n    <span class=\"pl-c\"># Probably that's a weird nixpkgs upstream thingy. Linux 6.3 wants</span>\n    <span class=\"pl-c\"># \"6.3.0\" instead of \"6.3\".</span>\n    <span class=\"pl-e\">modDirVersion</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>6.3.0<span class=\"pl-pds\">\"</span></span>;\n\n    <span class=\"pl-e\">allowImportFromDerivation</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span>;\n\n    <span class=\"pl-e\">extraMakeFlags</span> <span class=\"pl-k\">=</span> [\n      <span class=\"pl-c\"># Helps to detect the output of the rust_is_available.sh script.</span>\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>V=12<span class=\"pl-pds\">\"</span></span>\n    ];\n  };\n<span class=\"pl-k\">in</span>\n<span class=\"pl-v\">buildKernel</span></pre></div>\n</details>\n<p dir=\"auto\"><em><strong>Edit:</strong></em> If <code class=\"notranslate\">CONFIG_RUST=y</code> is kept properly, <code class=\"notranslate\">./scripts/target.json</code> should also be kept because of</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/NixOS/nixpkgs/blob/4645ea3569ab7cc4fdc617503f7e54655512a54c/pkgs/os-specific/linux/kernel/manual-config.nix#L363-L364\">nixpkgs/pkgs/os-specific/linux/kernel/manual-config.nix</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 363 to 364\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/NixOS/nixpkgs/commit/4645ea3569ab7cc4fdc617503f7e54655512a54c\">4645ea3</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L363\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"363\"></td>\n          <td id=\"LC363\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">    # Keep whole scripts dir</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L364\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"364\"></td>\n          <td id=\"LC364\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">    chmod u-w -R scripts</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">For example, \"rustc\" and \"rust-bindgen\" are required to be present in very specific versions for Linux's early Rust support. Hence, it is handy to optionally pass such deps.</p>\n<p dir=\"auto\">When I build an out-of-tree Rust module like this</p>\n<details>\n<div class=\"highlight highlight-source-nix notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{ gitignoreSource\n, lib\n  # The Linux kernel Nix package for which this module is compiled.\n, kernel\n, stdenv\n, rust-bindgen\n, rustc\n}:\n\nstdenv.mkDerivation rec {\n  pname = &quot;qemu-debugcon-driver&quot;;\n  version = &quot;0.1&quot;;\n\n  src = gitignoreSource ../src;\n\n  setSourceRoot = ''\n    export sourceRoot=$(pwd)/source\n  '';\n\n  nativeBuildInputs = kernel.moduleBuildDependencies\n    ++\n    # Rust-specific module build depenendencies not specified out-of-the-box in Nix.\n    [ rust-bindgen rustc ]\n  ;\n\n  makeFlags = kernel.makeFlags ++ [\n    &quot;-C&quot;\n    &quot;${kernel.dev}/lib/modules/${kernel.modDirVersion}/build&quot;\n    &quot;M=$(sourceRoot)&quot;\n  ];\n\n  buildFlags = [ &quot;modules&quot; ];\n  installFlags = [ &quot;INSTALL_MOD_PATH=${placeholder &quot;out&quot;}&quot; ];\n  installTargets = [ &quot;modules_install&quot; ];\n\n  meta = with lib; {\n    description = &quot;A QEMU Debugcon Driver for Linux&quot;;\n    platforms = platforms.linux;\n  };\n}\"><pre class=\"notranslate\">{ <span class=\"pl-smi\">gitignoreSource</span>\n<span class=\"pl-k\">,</span> <span class=\"pl-smi\">lib</span>\n  <span class=\"pl-c\"># The Linux kernel Nix package for which this module is compiled.</span>\n<span class=\"pl-k\">,</span> <span class=\"pl-smi\">kernel</span>\n<span class=\"pl-k\">,</span> <span class=\"pl-smi\">stdenv</span>\n<span class=\"pl-k\">,</span> <span class=\"pl-smi\">rust-bindgen</span>\n<span class=\"pl-k\">,</span> <span class=\"pl-smi\">rustc</span>\n}:\n\n<span class=\"pl-v\">stdenv</span><span class=\"pl-k\">.</span><span class=\"pl-v\">mkDerivation</span> <span class=\"pl-k\">rec</span> {\n  <span class=\"pl-e\">pname</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>qemu-debugcon-driver<span class=\"pl-pds\">\"</span></span>;\n  <span class=\"pl-e\">version</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0.1<span class=\"pl-pds\">\"</span></span>;\n\n  <span class=\"pl-e\">src</span> <span class=\"pl-k\">=</span> <span class=\"pl-v\">gitignoreSource</span> <span class=\"pl-s\">../src</span>;\n\n  <span class=\"pl-e\">setSourceRoot</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">''</span></span>\n<span class=\"pl-s\">    export sourceRoot=$(pwd)/source</span>\n<span class=\"pl-s\">  <span class=\"pl-pds\">''</span></span>;\n\n  <span class=\"pl-e\">nativeBuildInputs</span> <span class=\"pl-k\">=</span> <span class=\"pl-v\">kernel</span><span class=\"pl-k\">.</span><span class=\"pl-v\">moduleBuildDependencies</span>\n    <span class=\"pl-k\">++</span>\n    <span class=\"pl-c\"># Rust-specific module build depenendencies not specified out-of-the-box in Nix.</span>\n    [ <span class=\"pl-v\">rust-bindgen</span> <span class=\"pl-v\">rustc</span> ]\n  ;\n\n  <span class=\"pl-e\">makeFlags</span> <span class=\"pl-k\">=</span> <span class=\"pl-v\">kernel</span><span class=\"pl-k\">.</span><span class=\"pl-v\">makeFlags</span> <span class=\"pl-k\">++</span> [\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-C<span class=\"pl-pds\">\"</span></span>\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pse\">${</span><span class=\"pl-v\">kernel</span><span class=\"pl-k\">.</span><span class=\"pl-v\">dev</span><span class=\"pl-pse\">}</span>/lib/modules/<span class=\"pl-pse\">${</span><span class=\"pl-v\">kernel</span><span class=\"pl-k\">.</span><span class=\"pl-v\">modDirVersion</span><span class=\"pl-pse\">}</span>/build<span class=\"pl-pds\">\"</span></span>\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>M=$(sourceRoot)<span class=\"pl-pds\">\"</span></span>\n  ];\n\n  <span class=\"pl-e\">buildFlags</span> <span class=\"pl-k\">=</span> [ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>modules<span class=\"pl-pds\">\"</span></span> ];\n  <span class=\"pl-e\">installFlags</span> <span class=\"pl-k\">=</span> [ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>INSTALL_MOD_PATH=<span class=\"pl-pse\">${</span><span class=\"pl-v\">placeholder</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>out<span class=\"pl-pds\">\"</span></span><span class=\"pl-pse\">}</span><span class=\"pl-pds\">\"</span></span> ];\n  <span class=\"pl-e\">installTargets</span> <span class=\"pl-k\">=</span> [ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>modules_install<span class=\"pl-pds\">\"</span></span> ];\n\n  <span class=\"pl-e\">meta</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">with</span> <span class=\"pl-v\">lib</span>; {\n    <span class=\"pl-e\">description</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>A QEMU Debugcon Driver for Linux<span class=\"pl-pds\">\"</span></span>;\n    <span class=\"pl-e\">platforms</span> <span class=\"pl-k\">=</span> <span class=\"pl-v\">platforms</span><span class=\"pl-k\">.</span><span class=\"pl-v\">linux</span>;\n  };\n}</pre></div>\n</details>\n<p dir=\"auto\">It always fails with <code class=\"notranslate\">target file \"./scripts/target.json\" does not exist</code>.</p>\n<p dir=\"auto\">This file is only generated if <code class=\"notranslate\">CONFIG_RUST=y</code> and <code class=\"notranslate\">RUSTC=$(which rustc) BINDGEN=$(which bindgen) scripts/rust_is_available.sh -v</code> succeeds. <del>I think that with my changes, the kernel build correctly recognizes Rust and that <code class=\"notranslate\">scripts/rust_is_available.sh</code> succeeds. However, I'm not sure if <code class=\"notranslate\">./scripts/target.json</code> is really generated and if it's kept for the out-of-tree build or is discarded. I suppose that the Nix build environment is already capable of keeping these kind of files.</del> Please look at the discussion as we figured new things out along the way.</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2305-release-notes\">23.05 Release Notes (or backporting 22.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n",
            "url": "https://github.com/NixOS/nixpkgs/pull/232861",
            "title": "linux: enable Rust (rust-for-linux) in kernel builds (pkgs.linuxKernel.manualConfig)",
            "date_modified": "2023-05-24T09:24:31.000Z",
            "date_published": "2023-05-19T17:15:00.000Z",
            "author": {
                "name": "phip1611",
                "url": "https://github.com/phip1611"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/61180606?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Hello there.</p>\n<p dir=\"auto\">First off, thanks for the project! I just discovered it and I'm in the phase of getting familiar.</p>\n<p dir=\"auto\">I ran into an issue, though, when following the GTK install instructions (from the README) for the <code class=\"notranslate\">nix-shell</code>.</p>\n<h4 dir=\"auto\">TLDR</h4>\n<p dir=\"auto\">running the following the GTK et al. installation completed successfully:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"nix-shell -p '&lt;nixpkgs&gt;' gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig\"><pre class=\"notranslate\">nix-shell -p <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;nixpkgs&gt;<span class=\"pl-pds\">'</span></span> gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig</pre></div>\n<p dir=\"auto\"><br><br></p>\n<h4 dir=\"auto\">Not quite in-depth but more elaborate description</h4>\n<p dir=\"auto\">As mentioned above, the GTK install instructions from README for the <code class=\"notranslate\">nix-shell</code> didn't work for me.<br>\nThey appear to be out of date, so I went ahead and fixed them.<br>\nIn fact I just followed what <code class=\"notranslate\">nix-shell</code> told me to do and <em>that</em> <strong>did</strong> end up working.</p>\n<p dir=\"auto\">the change/fix as hinted by the <code class=\"notranslate\">nix-shell</code></p>\n<div class=\"highlight highlight-source-diff notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"-nix-shell -p '&lt;nixpkgs&gt;' gtk4 gnome3.gtk gobjectIntrospection pkgconfig\n+nix-shell -p '&lt;nixpkgs&gt;' gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig\"><pre class=\"notranslate\"><span class=\"pl-md\"><span class=\"pl-md\">-</span>nix-shell -p '&lt;nixpkgs&gt;' gtk4 gnome3.gtk gobjectIntrospection pkgconfig</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>nix-shell -p '&lt;nixpkgs&gt;' gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig</span></pre></div>\n<h5 dir=\"auto\">Output from the original command, which failed:</h5>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"~\n ‚ûú  nix-shell -p '&lt;nixpkgs&gt;' gtk4 gnome3.gtk gobjectIntrospection pkgconfig\nerror: The ‚Äògnome.gtk‚Äô alias was removed on 2022-01-13. Please use ‚Äòpkgs.gtk3‚Äô directly.\n(use '--show-trace' to show detailed location information)\n\n~\n (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª 1 üî•\"><pre class=\"notranslate\"><span class=\"pl-k\">~</span>\n ‚ûú  nix-shell -p <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;nixpkgs&gt;<span class=\"pl-pds\">'</span></span> gtk4 gnome3.gtk gobjectIntrospection pkgconfig\nerror: The ‚Äògnome.gtk‚Äô <span class=\"pl-c1\">alias</span> was removed on 2022-01-13. Please use ‚Äòpkgs.gtk3‚Äô directly.\n(use <span class=\"pl-s\"><span class=\"pl-pds\">'</span>--show-trace<span class=\"pl-pds\">'</span></span> to show detailed location information)\n\n<span class=\"pl-k\">~</span>\n (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª 1 üî•</pre></div>\n<p dir=\"auto\">pic (it did happen):<br>\n<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/61180606/154338167-363579b1-a667-4ff2-aafd-cb6d726b5104.png\"><img src=\"https://user-images.githubusercontent.com/61180606/154338167-363579b1-a667-4ff2-aafd-cb6d726b5104.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<h5 dir=\"auto\">Output from the fixed command:</h5>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"~\n (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª 1 üî• nix-shell -p '&lt;nixpkgs&gt;' gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig these 334 paths will be fetched (275.79 MiB download, 1187.41 MiB unpacked):\n  /nix/store/043lz8mvyx5vxl058c1i586yqc8ax4ig-glibc-2.33-108-bin\n  /nix/store/04yj0nllw5bqzzlay5m6zzbmyw7csgnk-glu-9.0.2\n  /nix/store/06zvvrv13xrmjqkcwyh5x9yxvgx4hvqz-libseccomp-2.5.3-lib\n\n...\n... hundreds of lines later\n...\n\ncopying path '/nix/store/h8k91x18zynw58yc0k34wv5i2k0jfijx-gtk4-4.6.0' from 'https://cache.nixos.org'...\ncopying path '/nix/store/apgij5a7rsa8d0j5zxdl2ji3vr8kji5g-gtk4-4.6.0-dev' from 'https://cache.nixos.org'...\n\n~ via ‚ùÑÔ∏è  impure (shell)\n ‚ûú  gtk4-&lt;TAB&gt;&lt;TAB&gt;\ngtk4-broadwayd            gtk4-demo-application     gtk4-launch               gtk4-update-icon-cache\ngtk4-builder-tool         gtk4-encode-symbolic-svg  gtk4-print-editor         gtk4-widget-factory\ngtk4-demo                 gtk4-icon-browser         gtk4-query-settings\n\n~ via ‚ùÑÔ∏è  impure (shell)\n ‚ûú  which gtk4-demo\n/nix/store/apgij5a7rsa8d0j5zxdl2ji3vr8kji5g-gtk4-4.6.0-dev/bin/gtk4-demo\"><pre class=\"notranslate\"><span class=\"pl-k\">~</span>\n (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª 1 üî• nix-shell -p <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;nixpkgs&gt;<span class=\"pl-pds\">'</span></span> gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig these 334 paths will be fetched (275.79 MiB download, 1187.41 MiB unpacked):\n  /nix/store/043lz8mvyx5vxl058c1i586yqc8ax4ig-glibc-2.33-108-bin\n  /nix/store/04yj0nllw5bqzzlay5m6zzbmyw7csgnk-glu-9.0.2\n  /nix/store/06zvvrv13xrmjqkcwyh5x9yxvgx4hvqz-libseccomp-2.5.3-lib\n\n...\n... hundreds of lines later\n...\n\ncopying path <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/nix/store/h8k91x18zynw58yc0k34wv5i2k0jfijx-gtk4-4.6.0<span class=\"pl-pds\">'</span></span> from <span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://cache.nixos.org<span class=\"pl-pds\">'</span></span>...\ncopying path <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/nix/store/apgij5a7rsa8d0j5zxdl2ji3vr8kji5g-gtk4-4.6.0-dev<span class=\"pl-pds\">'</span></span> from <span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://cache.nixos.org<span class=\"pl-pds\">'</span></span>...\n\n<span class=\"pl-k\">~</span> via ‚ùÑÔ∏è  impure (shell)\n ‚ûú  gtk4-<span class=\"pl-k\">&lt;</span>TAB&gt;&lt;TAB<span class=\"pl-k\">&gt;</span>\ngtk4-broadwayd            gtk4-demo-application     gtk4-launch               gtk4-update-icon-cache\ngtk4-builder-tool         gtk4-encode-symbolic-svg  gtk4-print-editor         gtk4-widget-factory\ngtk4-demo                 gtk4-icon-browser         gtk4-query-settings\n\n<span class=\"pl-k\">~</span> via ‚ùÑÔ∏è  impure (shell)\n ‚ûú  which gtk4-demo\n/nix/store/apgij5a7rsa8d0j5zxdl2ji3vr8kji5g-gtk4-4.6.0-dev/bin/gtk4-demo</pre></div>\n<p dir=\"auto\">pic (this also did happen):<br>\n<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/61180606/154344227-5547b59b-3e63-40a9-9373-37524bc3e039.png\"><img src=\"https://user-images.githubusercontent.com/61180606/154344227-5547b59b-3e63-40a9-9373-37524bc3e039.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">Hope this is OK.</p>\n<p dir=\"auto\">Cheers!</p>",
            "url": "https://github.com/diamondburned/gotk4-examples/pull/14",
            "title": "readme: fix nix-shell installation instructions",
            "date_modified": "2022-03-24T21:21:23.000Z",
            "date_published": "2022-02-16T19:53:40.000Z",
            "author": {
                "name": "wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf",
                "url": "https://github.com/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54836058?u=9a136f822864d980a6ff49700e60e1f11502295e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\"><strong>I would like to emphasize that the point of this PR is avoiding technical debt in <code class=\"notranslate\">stdenv</code>.  The fact that it <a href=\"https://github.com/NixOS/nixpkgs/pull/209462#issuecomment-1374609543\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209462/hovercard\">saves rebuilds in some situations</a> is just an added bonus.</strong></p>\n<p dir=\"auto\">This PR is <a href=\"https://github.com/NixOS/nixpkgs/pull/209462/commits/12408bcf9336f7817a10953e9f0b932031f1f297\">a two-line change</a>, trivial to revert.  Its parent PR, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1523734733\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209459\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209459/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/209459\">#209459</a>, is independently useful, and in any event doesn't muck around with the internals of the stdenv stages.</p>\n<p dir=\"auto\">This PR has a child, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1524255088\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209601\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209601/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/209601\">#209601</a>, which greatly reduces the amount of aarch64 rebuilds, at the expense of complexity.  I'm not sure the complexity is worth it; the point of that PR is to show that there are various complexity/performance tradeoff points available to choose from.</p>\n<p dir=\"auto\">Motivation:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1514866292\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/208412\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/208412/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/208412\">#208412</a></li>\n</ul>\n<p dir=\"auto\">Incorporates changes from:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1523734733\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209459\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209459/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/209459\">#209459</a></li>\n</ul>\n<p dir=\"auto\">Should fix:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"777259019\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/108111\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/108111/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/108111\">#108111</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"777610981\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/108305\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/108305/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/108305\">#108305</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1448851055\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/201254\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/201254/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/201254\">#201254</a></li>\n</ul>\n<p dir=\"auto\">Alternative to:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1519313711\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209063\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209063/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/209063\">#209063</a></li>\n</ul>\n<h6 dir=\"auto\">Things done</h6>\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux (in progress)</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/209462",
            "title": "aarch64: enable rebootstrap, upgrade to gcc11",
            "date_modified": "2023-03-10T06:22:01.000Z",
            "date_published": "2023-01-07T11:44:33.000Z",
            "author": {
                "name": "amjoseph-nixpkgs",
                "url": "https://github.com/amjoseph-nixpkgs"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1200507?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">Mobilizon is an online tool developed by Framasoft to help manage your events, your profiles and your groups.</p>\n<p dir=\"auto\">This PR is based on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"855097191\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/119049\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/119049/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/119049\">#119049</a>, and is a draft PR until <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"855097191\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/119049\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/119049/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/119049\">#119049</a> is merged. I can't really make a PR to nixpkgs that merges into my own branch, so you will find <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"855097191\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/119049\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/119049/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/119049\">#119049</a> commits in here too while it is open.</p>\n<p dir=\"auto\">Note that the package and the module has a single maintainer, instead of the whole BEAM team, since I thought this was not a critical part of the BEAM ecosystem in Nixpkgs, and we might not want to have the BEAM team manage every BEAM packages and modules, but this is obviously up for discussion.</p>\n<p dir=\"auto\">CC @NixOS/beam for this exact question, and since it is the first NixOS module integrating an Elixir service.</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested using sandboxing (<a href=\"https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"https://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS linux)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Ensured that relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/119132",
            "title": "Init Mobilizon",
            "date_modified": "2023-05-22T22:17:00.000Z",
            "date_published": "2021-04-11T12:06:09.000Z",
            "author": {
                "name": "minijackson",
                "url": "https://github.com/minijackson"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/40422978?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/#sec-conf-file\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2111-release-notes\">21.11 Release Notes (or backporting 21.05 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/136046",
            "title": "Add espeak-ng support to brltty",
            "date_modified": "2022-10-01T10:58:41.000Z",
            "date_published": "2021-08-28T17:11:56.000Z",
            "author": {
                "name": "tage64",
                "url": "https://github.com/tage64"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1504424?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">This is to add YottaDB core engine, more info on: <a href=\"https://yottadb.com/\" rel=\"nofollow\">https://yottadb.com/</a> and <a href=\"https://gitlab.com/YottaDB\" rel=\"nofollow\">https://gitlab.com/YottaDB</a>.<br>\nThere may be more packages in the future: Octo, AIM, various plugins, language bindings, etc.</p>\n<h6 dir=\"auto\">Things done</h6>\n<p dir=\"auto\">Introducing a new package and a module required for YottaDB's correct operation.</p>\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux (not explicitly tested yet; the code should be supported on this platform however)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2205-release-notes\">22.05 Release Notes (or backporting 21.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Release notes changes) Ran <code class=\"notranslate\">nixos/doc/manual/md-to-db.sh</code> to update generated release notes</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n<p dir=\"auto\">I have tested basic functionality, and I am currently using this package together with YDBRust language wrapper (<a href=\"https://gitlab.com/YottaDB/Lang/YDBRust\" rel=\"nofollow\">https://gitlab.com/YottaDB/Lang/YDBRust</a>) without any issues.</p>\n<p dir=\"auto\">This is my first contribution to nixpkgs, so please let me know if you require any more work or changes. I've followed the contribution guide in terms of commit msgs, etc. but might have missed something.</p>",
            "url": "https://github.com/NixOS/nixpkgs/pull/167220",
            "title": "Add yottadb engine",
            "date_modified": "2023-01-02T12:46:04.000Z",
            "date_published": "2022-04-04T18:51:51.000Z",
            "author": {
                "name": "ztmr",
                "url": "https://github.com/ztmr"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7258858?u=c524720e2844ffa8a2aa67944fde5af54031e06d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<p dir=\"auto\">To try this use the pkgsUutils overlay and replace python3 with any package:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"nix-build -A pkgsUutils.python3\"><pre class=\"notranslate\">nix-build -A pkgsUutils.python3</pre></div>\n<p dir=\"auto\">ToDo:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> merge <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"830985477\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/116241\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/116241/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/116241\">#116241</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> wait for <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/NixOS/nixpkgs/commit/1f831f0552f92680c3868794a9ffe00e2ee7f8cb/hovercard\" href=\"https://github.com/NixOS/nixpkgs/commit/1f831f0552f92680c3868794a9ffe00e2ee7f8cb\"><tt>1f831f0</tt></a> to be in master</li>\n</ul>\n<p dir=\"auto\">Issues preventing us from using it in a stdenv:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> autotools does not work because the died not handle escape codes <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"831060787\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/1817\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/1817/hovercard\" href=\"https://github.com/uutils/coreutils/issues/1817\">uutils/coreutils#1817</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> install does not work when installing files from directors <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"831368727\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/1823\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/1823/hovercard\" href=\"https://github.com/uutils/coreutils/issues/1823\">uutils/coreutils#1823</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> head does not work with null bytes <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"831347006\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/1822\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/1822/hovercard\" href=\"https://github.com/uutils/coreutils/issues/1822\">uutils/coreutils#1822</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> touch cannot parse some date <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"906789632\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2311\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2311/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2311\">uutils/coreutils#2311</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> cp to many files open <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"906832557\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2312\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2312/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2312\">uutils/coreutils#2312</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> cp main panic <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"906838842\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2314\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2314/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2314\">uutils/coreutils#2314</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> converting absolute symlinks to relative ones <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"909722056\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2335\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2335/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2335\">uutils/coreutils#2335</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> ln multiple --symbolic <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"912392944\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2359\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2359/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2359\">uutils/coreutils#2359</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> missing symlink from test to <code class=\"notranslate\">[</code> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"923151148\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2420\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2420/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2420\">uutils/coreutils#2420</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> tr posix character classes <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"923247805\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2421\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2421/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2421\">uutils/coreutils#2421</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> cp dangling or nested symlinks <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"923260516\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2422\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2422/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2422\">uutils/coreutils#2422</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> cp permission denied <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"923272754\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2423\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2423/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2423\">uutils/coreutils#2423</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> cut not working in rustc <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"924124147\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2424\" data-hovercard-type=\"issue\" data-hovercard-url=\"/uutils/coreutils/issues/2424/hovercard\" href=\"https://github.com/uutils/coreutils/issues/2424\">uutils/coreutils#2424</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fix installation of [ symlink https://github.com/<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"941103231\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2491\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/uutils/coreutils/pull/2491/hovercard\" href=\"https://github.com/uutils/coreutils/pull/2491\">uutils/coreutils/pull/2491</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Create completion directories incase they do not exist <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"941081058\" data-permission-text=\"Title is private\" data-url=\"https://github.com/uutils/coreutils/issues/2490\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/uutils/coreutils/pull/2490/hovercard\" href=\"https://github.com/uutils/coreutils/pull/2490\">uutils/coreutils#2490</a></li>\n</ul>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<ul dir=\"auto\">\n<li>Try it out!</li>\n<li><a href=\"https://discourse.nixos.org/t/rust-coreutils-replacement/11867\" rel=\"nofollow\">https://discourse.nixos.org/t/rust-coreutils-replacement/11867</a></li>\n</ul>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested using sandboxing (<a href=\"https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"https://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS linux)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Ensured that relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/116274",
            "title": "stdenv: add uutils-coreutils stdenv",
            "date_modified": "2023-03-12T23:19:09.000Z",
            "date_published": "2021-03-14T02:54:41.000Z",
            "author": {
                "name": "SuperSandro2000",
                "url": "https://github.com/SuperSandro2000"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/750786?u=06b6e032b60550f708bad045fd8bc1d2197a3680&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">The current version of cockroachdb has reached EOL about a month ago.</p>\n<h6 dir=\"auto\">Things done</h6>\n<ul dir=\"auto\">\n<li>Removed the EOL version</li>\n<li>Added a generic builder to support multiple versions</li>\n<li>Added the three versions that are still supported in some way</li>\n</ul>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2205-release-notes\">22.05 Release Notes (or backporting 21.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Release notes changes) Ran <code class=\"notranslate\">nixos/doc/manual/md-to-db.sh</code> to update generated release notes</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/152626",
            "title": "CockroachDB: 20.1.8 -> {20.2.18, 21.1.13, 21.2.4}",
            "date_modified": "2023-02-09T14:56:12.000Z",
            "date_published": "2021-12-29T21:28:58.000Z",
            "author": {
                "name": "ankhers",
                "url": "https://github.com/ankhers"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/902012?u=d339681f7565a77f5bb1b4bb611251cd8f66ca9f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">Updating darwin.xnu, this should fix most header issues in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"726063942\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/101229\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/101229/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/101229\">#101229</a>.<br>\nIt contains part of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"786057283\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/109368\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/109368/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/109368\">#109368</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"792789019\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/110685\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/110685/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/110685\">#110685</a> , only last commit is really related to this PR.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewbauer/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewbauer\">@matthewbauer</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/veprbl/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/veprbl\">@veprbl</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/siraben/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/siraben\">@siraben</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/SuperSandro2000/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SuperSandro2000\">@SuperSandro2000</a> , could some one call ofborg test darwin.xnu darwin.Libsystem ?</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested using sandboxing (<a href=\"https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"https://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS linux)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Ensured that relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/110840",
            "title": "darwin.xnu: update and restructure",
            "date_modified": "2022-01-03T20:35:12.000Z",
            "date_published": "2021-01-26T11:08:33.000Z",
            "author": {
                "name": "holymonson",
                "url": "https://github.com/holymonson"
            }
        }
    ]
}