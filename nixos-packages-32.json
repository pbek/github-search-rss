{
    "version": "https://jsonfeed.org/version/1",
    "title": "NixOS Package PRs for less, ranger, linux-pam-1.5.2, xterm, plasma-nm, diffutils-3.9 packages",
    "home_page_url": "https://pbek.github.io/github-search-rss/nixos-packages-32.json",
    "feed_url": "https://pbek.github.io/github-search-rss/nixos-packages-32.json",
    "description": "NixOS Package PRs for less, ranger, linux-pam-1.5.2, xterm, plasma-nm, diffutils-3.9 packages on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/37933096?u=b11a857efbc669246eb43904472627625dcdbbdb&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Automatic update generated by <a href=\"https://github.com/ryantm/nixpkgs-update\">nixpkgs-update</a> tools. This update was made based on information from passthru.updateScript.</p>\n<p dir=\"auto\">meta.homepage for xterm is: <a href=\"https://invisible-island.net/xterm\" rel=\"nofollow\">https://invisible-island.net/xterm</a></p>\n<p dir=\"auto\">meta.changelog for xterm is: <a href=\"https://invisible-island.net/xterm/xterm.log.html\" rel=\"nofollow\">https://invisible-island.net/xterm/xterm.log.html</a></p>\n<h6 dir=\"auto\">Updates performed</h6>\n<ul dir=\"auto\">\n<li>Ran passthru.UpdateScript</li>\n</ul>\n<h6 dir=\"auto\">To inspect upstream changes</h6>\n<h6 dir=\"auto\">Impact</h6>\n<details>\n<summary>\n<b>Checks done</b> (click to expand)\n</summary>\n<hr>\n<ul dir=\"auto\">\n<li>built on NixOS</li>\n<li>The tests defined in <code class=\"notranslate\">passthru.tests</code>, if any, passed</li>\n<li>found 383 with grep in /nix/store/9xfawiz5d12ahqdxggq2a8pw8xl79m8x-xterm-383</li>\n<li>found 383 in filename of file in /nix/store/9xfawiz5d12ahqdxggq2a8pw8xl79m8x-xterm-383</li>\n</ul>\n<hr>\n</details>\n<details>\n<summary>\n<b>Rebuild report</b> (if merged into master) (click to expand)\n</summary>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"1109 total rebuild path(s)\n\n1109 package rebuild(s)\n\nFirst fifty rebuilds by attrpath\nChowKick\nSylk\nabaddon\nadapta-gtk-theme\nadoptopenjdk-icedtea-web\nahoviewer\najour\nakira-unstable\nalfaview\nalfis\nalmanah\naltair\namberol\namtk\nanytype\napache-directory-studio\napostrophe\nappgate-sdp\nappimage-run\nappimage-run-tests\narchi\nares\narmcord\nashpd-demo\nastroid\natom\natom-beta\nauthenticator\nauthy\nautokey\nautotiling\naws-workspaces\nazuredatastudio\nbada-bib\nbadwolf\nbalsa\nbanking\nbaobab\nbeekeeper-studio\nbespokesynth\nbespokesynth-with-vst2\nbetterdiscord-installer\nbeyond-identity\nbilibili\nbinance\nbirdfont\nbitwarden\nbitwig-studio1\nbitwig-studio2\nblackbox\"><pre class=\"notranslate\"><code class=\"notranslate\">1109 total rebuild path(s)\n\n1109 package rebuild(s)\n\nFirst fifty rebuilds by attrpath\nChowKick\nSylk\nabaddon\nadapta-gtk-theme\nadoptopenjdk-icedtea-web\nahoviewer\najour\nakira-unstable\nalfaview\nalfis\nalmanah\naltair\namberol\namtk\nanytype\napache-directory-studio\napostrophe\nappgate-sdp\nappimage-run\nappimage-run-tests\narchi\nares\narmcord\nashpd-demo\nastroid\natom\natom-beta\nauthenticator\nauthy\nautokey\nautotiling\naws-workspaces\nazuredatastudio\nbada-bib\nbadwolf\nbalsa\nbanking\nbaobab\nbeekeeper-studio\nbespokesynth\nbespokesynth-with-vst2\nbetterdiscord-installer\nbeyond-identity\nbilibili\nbinance\nbirdfont\nbitwarden\nbitwig-studio1\nbitwig-studio2\nblackbox\n</code></pre></div>\n</details>\n<details>\n<summary>\n<b>Instructions to test this update</b> (click to expand)\n</summary>\n<hr>\n<p dir=\"auto\">Either <strong>download from Cachix</strong>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"nix-store -r /nix/store/9xfawiz5d12ahqdxggq2a8pw8xl79m8x-xterm-383 \\\n  --option binary-caches 'https://cache.nixos.org/ https://nix-community.cachix.org/' \\\n  --option trusted-public-keys '\n  nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=\n  cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY=\n  '\"><pre class=\"notranslate\"><code class=\"notranslate\">nix-store -r /nix/store/9xfawiz5d12ahqdxggq2a8pw8xl79m8x-xterm-383 \\\n  --option binary-caches 'https://cache.nixos.org/ https://nix-community.cachix.org/' \\\n  --option trusted-public-keys '\n  nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=\n  cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY=\n  '\n</code></pre></div>\n<p dir=\"auto\">(The Cachix cache is only trusted for this store-path realization.)<br>\nFor the Cachix download to work, your user must be in the <code class=\"notranslate\">trusted-users</code> list or you can use <code class=\"notranslate\">sudo</code> since root is effectively trusted.</p>\n<p dir=\"auto\">Or, <strong>build yourself</strong>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"nix-build -A xterm https://github.com/r-ryantm/nixpkgs/archive/7272366a522ea55ab0c5e37c586d09e6942df6e6.tar.gz\"><pre class=\"notranslate\"><code class=\"notranslate\">nix-build -A xterm https://github.com/r-ryantm/nixpkgs/archive/7272366a522ea55ab0c5e37c586d09e6942df6e6.tar.gz\n</code></pre></div>\n<p dir=\"auto\">After you've downloaded or built it, look at the files and if there are any, run the binaries:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ls -la /nix/store/9xfawiz5d12ahqdxggq2a8pw8xl79m8x-xterm-383\nls -la /nix/store/9xfawiz5d12ahqdxggq2a8pw8xl79m8x-xterm-383/bin\"><pre class=\"notranslate\"><code class=\"notranslate\">ls -la /nix/store/9xfawiz5d12ahqdxggq2a8pw8xl79m8x-xterm-383\nls -la /nix/store/9xfawiz5d12ahqdxggq2a8pw8xl79m8x-xterm-383/bin\n</code></pre></div>\n<hr>\n</details>\n<br>\n<h3 dir=\"auto\">Pre-merge build results</h3>\n<p dir=\"auto\">NixPkgs review skipped</p>\n<hr>\n<h6 dir=\"auto\">Maintainer pings</h6>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/NeQuissimus/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/NeQuissimus\">@NeQuissimus</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/vrthra/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrthra\">@vrthra</a> for <a href=\"https://github.com/ryantm/nixpkgs-update/blob/master/doc/nixpkgs-maintainer-faq.md#r-ryantm-opened-a-pr-for-my-package-what-do-i-do\">testing</a>.</p>",
            "url": "https://github.com/NixOS/nixpkgs/pull/240687",
            "title": "xterm: 382 -> 383",
            "date_modified": "2023-07-02T08:46:44.000Z",
            "date_published": "2023-06-30T08:50:25.000Z",
            "author": {
                "name": "r-ryantm",
                "url": "https://github.com/r-ryantm"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1567527?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">The current ranger derivation does not support the <code class=\"notranslate\">source ranger</code> trick to easily use ranger as a <code class=\"notranslate\">cd</code> replacement for the bash shell.<br>\nIt might be confusing for people using nix that this behaviour is not supported when it is mentioned in the ranger manual, so this commit adds support for it.</p>\n<h6 dir=\"auto\">Things done</h6>\n<p dir=\"auto\">Changed the wrapper to check if the script is being sourced from bash, and automatically uses the <code class=\"notranslate\">--choosedir</code> flag to write the path to a temporary file (much as the original ranger file does).<br>\nI would have preferred to actually use the code from the <code class=\"notranslate\">.ranger-wrapped</code> file that ranger ships with, but it seems rather involved because of the shebangs and mixed python code.</p>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested using sandboxing (<a href=\"https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"https://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS linux)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Ensured that relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/119052",
            "title": "ranger: Add 'source ranger' support",
            "date_modified": "2021-10-12T14:44:10.000Z",
            "date_published": "2021-04-10T16:07:19.000Z",
            "author": {
                "name": "SEbbaDK",
                "url": "https://github.com/SEbbaDK"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/141248?u=6a66083b268f747fb195b446d42cb0b29346abf9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">Before this change, nixpkgs and configuration revision hashes were hard-coded into the <code class=\"notranslate\">nixos-version</code> script.<br>\nThis means that even a trivial change (like an empty commit), would trigger a rebuild of every derivation that depends on the system path and every derivation that depends on those. On my config, this meant a minimum of 42 derivations that had to be rebuilt for every change, which adds to the feedback loop when hacking on my config.</p>\n<p dir=\"auto\">With the change of this PR, <code class=\"notranslate\">nixos-version</code> now reads a JSON file from /run/current-system instead of hard-coding the values in the script, which means that the <code class=\"notranslate\">system-path</code> derivation no longer changes every time one of the commit revisions changes.  For my config, this change reduced the amount of derivations that need to be rebuilt after a trivial config change from 42 to 9.</p>\n<p dir=\"auto\">On top of this, I restructured the tools module a bit so that it becomes possible to override the packages for these tools if needed, which was not possible before.</p>\n\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/doc/manual/release-notes/rl-2311.section.md\">23.11 Release Notes</a> (or backporting <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/doc/manual/release-notes/rl-2305.section.md\">23.05 Release notes</a>)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n",
            "url": "https://github.com/NixOS/nixpkgs/pull/238557",
            "title": "nixos: rebuild less derivations on nixpkgs/config hash changes.",
            "date_modified": "2023-06-30T20:43:45.000Z",
            "date_published": "2023-06-19T10:28:37.000Z",
            "author": {
                "name": "R-VdP",
                "url": "https://github.com/R-VdP"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/141248?u=6a66083b268f747fb195b446d42cb0b29346abf9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">Currently systemd prints <code class=\"notranslate\">Starting X11 Server</code> in the journal, which completely misled me into searching why my wayland system was starting an X server.<br>\nTurns out that this is actually the display manager, so I think it's better to call it like that in the description.</p>\n\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/doc/manual/release-notes/rl-2311.section.md\">23.11 Release Notes</a> (or backporting <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/doc/manual/release-notes/rl-2305.section.md\">23.05 Release notes</a>)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n",
            "url": "https://github.com/NixOS/nixpkgs/pull/241320",
            "title": "nixos/x11: change the description of the display manager service to be less confusing.",
            "date_modified": "2023-07-03T18:21:19.000Z",
            "date_published": "2023-07-03T18:03:04.000Z",
            "author": {
                "name": "R-VdP",
                "url": "https://github.com/R-VdP"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1486805?u=56596ec6fc1f521cb7362df7a5318c84d9798687&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Setting <code class=\"notranslate\">PAGER=\"less -R\"</code> relies on word splitting to work out properly.<br>\nLess also reads options from from a variable named <code class=\"notranslate\">LESS</code>, by setting<br>\n<code class=\"notranslate\">PAGER=\"less\"</code> and <code class=\"notranslate\">LESS=\"-R\"</code> we don't have to rely on word splitting.</p>\n\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">The <code class=\"notranslate\">PAGER=\"less -R\"</code> setting has always worked fine for me until today. I was trying out a <a href=\"https://xwmx.github.io/nb/\" rel=\"nofollow\">bash script for note-taking</a> and it errored with \"command not found: less -R\". By setting the option in <code class=\"notranslate\">LESS=\"-R\"</code> instead we can avoid relying on word splitting. I believe this should only make it work in <em>more</em> cases not less.</p>\n<p dir=\"auto\">One backwards incompatibility issue is that people who don't like the <code class=\"notranslate\">-R</code> flag and have overridden <code class=\"notranslate\">PAGER</code> with <code class=\"notranslate\">less</code> would have to clear the setting for <code class=\"notranslate\">LESS</code>.</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested using sandboxing (<a href=\"https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"https://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS linux)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Ensured that relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/110960",
            "title": "environment.nix: Split \"less -R\" into PAGER and LESS",
            "date_modified": "2021-11-09T19:21:09.000Z",
            "date_published": "2021-01-27T21:08:16.000Z",
            "author": {
                "name": "toonn",
                "url": "https://github.com/toonn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3159881?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">CUPS is in the process of moving over to a new architecture based on Printer Applications, where CUPS itself doesn't directly support PPD files anymore.</p>\n<p dir=\"auto\">See the <a href=\"https://github.com/OpenPrinting/libcupsfilters\">libcupsfilters README</a>:</p>\n<blockquote>\n<p dir=\"auto\">In the New Architecture for printing we switch to an all-IPP workflow with PPD files and printer driver executables being abolished and classic CUPS printer drivers replaced by Printer Applications (software emulation of driverless IPP printers).<br>\nTo conserve the functionality of the CUPS filters which got developed over the last 20+ years into a PPD-less, IPP-driven world without having to maintain and include the legacy PPD support in OS distributions and other system environments, the original cups-filters package got split into 5 separate packages: libcupsfilters, libppd, cups-filters, braille-printer-app, and cups-browsed, with libcupsfilters and braille-printer-app not containing PPD file support code any more and cups-browsed being planned to drop explicit use of PPD files.</p>\n</blockquote>\n<p dir=\"auto\">Further information can be found in <a href=\"https://openprinting.github.io/achievements\" rel=\"nofollow\">blog posts</a> by the OpenPrinting project lead here, for example:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://openprinting.github.io/achievements/#cups-filters\" rel=\"nofollow\">cups-filters</a></li>\n<li><a href=\"https://openprinting.github.io/achievements/#cups-browsed\" rel=\"nofollow\">cups-browsed</a></li>\n<li><a href=\"https://openprinting.github.io/achievements/#all-free-drivers-in-a-ppd-less-world---or---all-free-drivers-in-snaps\" rel=\"nofollow\">All free drivers in a PPD-less world - OR - All free drivers in Snaps</a></li>\n</ul>\n<p dir=\"auto\">This PR adds the following support libraries:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">libcupsfilters</code></li>\n<li><code class=\"notranslate\">libppd</code></li>\n<li><code class=\"notranslate\">pappl-retrofit</code></li>\n<li>(update of existing library <code class=\"notranslate\">pappl</code> to 1.3)</li>\n</ul>\n<p dir=\"auto\">And the following printer applications:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">braille-printer-app</code></li>\n<li><code class=\"notranslate\">cups-browsed</code></li>\n<li><code class=\"notranslate\">ps-printer-app</code></li>\n<li><code class=\"notranslate\">lprint</code> (could be separated, depends only on pappl)</li>\n</ul>\n<p dir=\"auto\">Since these packages have various interrelated dependencies, I thought it would be a good idea to add them in one PR to simplify the review.</p>\n<p dir=\"auto\">Note: Most added packages are declared as beta-level by upstream. Also, I haven't tested the new packages thoroughly.<br>\nThis PR does not touch the existing CUPS functionality.</p>\n<p dir=\"auto\">The directory structure is a bit of a mess at the moment. I put the printer applications in <code class=\"notranslate\">pkgs/applications/printing</code> (where only <code class=\"notranslate\">pappl</code> currently resides), but perhaps it makes more sense to place them somewhere else.</p>\n\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2305-release-notes\">23.05 Release Notes (or backporting 22.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Release notes changes) Ran <code class=\"notranslate\">nixos/doc/manual/md-to-db.sh</code> to update generated release notes</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n",
            "url": "https://github.com/NixOS/nixpkgs/pull/211615",
            "title": "Add OpenPrinting Printer Applications and support libraries (for PPD-less CUPS)",
            "date_modified": "2023-06-12T19:28:15.000Z",
            "date_published": "2023-01-19T17:17:45.000Z",
            "author": {
                "name": "hesiod",
                "url": "https://github.com/hesiod"
            }
        }
    ]
}