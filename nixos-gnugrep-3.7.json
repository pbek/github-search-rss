{
    "version": "https://jsonfeed.org/version/1",
    "title": "NixOS Package PRs for gnugrep-3.7",
    "home_page_url": "https://pbek.github.io/github-search-rss/nixos-gnugrep-3.7.json",
    "feed_url": "https://pbek.github.io/github-search-rss/nixos-gnugrep-3.7.json",
    "description": "NixOS Package PRs for gnugrep-3.7 on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/20525370?u=3eca42cd1f8dd49002816cd842937abef0d1b030&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h1 dir=\"auto\">Motivation</h1>\n<p dir=\"auto\">Adds simple Python bindings for Nix evaluation, initialized from <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/Mic92/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Mic92\">@Mic92</a>'s archived <a href=\"https://github.com/Mic92/pythonix\">Pythonix</a> (including the license), but then updated to work with the latest Nix version. This relates to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1438407433\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nix/issues/7271\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nix/issues/7271/hovercard\" href=\"https://github.com/NixOS/nix/issues/7271\">#7271</a></p>\n<p dir=\"auto\">Just like the existing Perl bindings under <code class=\"notranslate\">pkgs.nix.perl-bindings</code>, these Python bindings are available as a separate derivation under <code class=\"notranslate\">pkgs.nix.python-bindings</code>. This is a Python package that can be used as <code class=\"notranslate\">python.withPackages (p: [ pkgs.nix.python-bindings ]</code></p>\n<p dir=\"auto\">The API currently is just a single function:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">nix.eval(str, vars: dict)</code><br>\nEvaluates the Nix expression <code class=\"notranslate\">str</code> with variables <code class=\"notranslate\">vars</code> in scope. <code class=\"notranslate\">vars</code> is transparently converted from Python values to Nix values. The result of this function is transparently converted from a Nix value to a Python value.</li>\n</ul>\n<p dir=\"auto\">An example:</p>\n<details>\n<summary>flake.nix</summary>\n<div class=\"highlight highlight-source-nix notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{\n  inputs.nix.url = &quot;github:tweag/nix/python-bindings&quot;;\n  inputs.nixpkgs.follows = &quot;nix/nixpkgs&quot;;\n  inputs.flake-utils.url = &quot;github:numtide/flake-utils&quot;;\n\n  outputs = { nix, nixpkgs, flake-utils, ... }: flake-utils.lib.eachDefaultSystem (system: {\n    defaultPackage = nixpkgs.legacyPackages.${system}.pkgs.python3.withPackages (p: [\n      nix.packages.${system}.nix.python-bindings\n    ]);\n  });\n}\"><pre class=\"notranslate\">{\n  <span class=\"pl-e\">inputs</span>.<span class=\"pl-e\">nix</span>.<span class=\"pl-e\">url</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github:tweag/nix/python-bindings<span class=\"pl-pds\">\"</span></span>;\n  <span class=\"pl-e\">inputs</span>.<span class=\"pl-e\">nixpkgs</span>.<span class=\"pl-e\">follows</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>nix/nixpkgs<span class=\"pl-pds\">\"</span></span>;\n  <span class=\"pl-e\">inputs</span>.<span class=\"pl-e\">flake-utils</span>.<span class=\"pl-e\">url</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>github:numtide/flake-utils<span class=\"pl-pds\">\"</span></span>;\n\n  <span class=\"pl-e\">outputs</span> <span class=\"pl-k\">=</span> { <span class=\"pl-smi\">nix</span><span class=\"pl-k\">,</span> <span class=\"pl-smi\">nixpkgs</span><span class=\"pl-k\">,</span> <span class=\"pl-smi\">flake-utils</span><span class=\"pl-k\">,</span> <span class=\"pl-k\">... </span>}: <span class=\"pl-v\">flake-utils</span><span class=\"pl-k\">.</span><span class=\"pl-v\">lib</span><span class=\"pl-k\">.</span><span class=\"pl-v\">eachDefaultSystem</span> (<span class=\"pl-smi\">system</span>: {\n    <span class=\"pl-e\">defaultPackage</span> <span class=\"pl-k\">=</span> <span class=\"pl-v\">nixpkgs</span><span class=\"pl-k\">.</span><span class=\"pl-v\">legacyPackages</span><span class=\"pl-k\">.</span><span class=\"pl-pse\">${</span><span class=\"pl-v\">system</span><span class=\"pl-pse\">}</span><span class=\"pl-k\">.</span><span class=\"pl-v\">pkgs</span><span class=\"pl-k\">.</span><span class=\"pl-v\">python3</span><span class=\"pl-k\">.</span><span class=\"pl-v\">withPackages</span> (<span class=\"pl-smi\">p</span>: [\n      <span class=\"pl-v\">nix</span><span class=\"pl-k\">.</span><span class=\"pl-v\">packages</span><span class=\"pl-k\">.</span><span class=\"pl-pse\">${</span><span class=\"pl-v\">system</span><span class=\"pl-pse\">}</span><span class=\"pl-k\">.</span><span class=\"pl-v\">nix</span><span class=\"pl-k\">.</span><span class=\"pl-v\">python-bindings</span>\n    ]);\n  });\n}</pre></div>\n</details>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ nix run\nPython 3.10.8 (main, Oct 11 2022, 11:35:05) [GCC 11.3.0] on linux\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt; import nix\n&gt;&gt;&gt; nix.eval(&quot;1 + a&quot;, vars=dict(a = 2))\n3\"><pre class=\"notranslate\"><code class=\"notranslate\">$ nix run\nPython 3.10.8 (main, Oct 11 2022, 11:35:05) [GCC 11.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import nix\n&gt;&gt;&gt; nix.eval(\"1 + a\", vars=dict(a = 2))\n3\n</code></pre></div>\n<p dir=\"auto\">This work is sponsored by <a href=\"https://antithesis.com/\" rel=\"nofollow\">Antithesis</a> <g-emoji class=\"g-emoji\" alias=\"sparkles\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2728.png\">‚ú®</g-emoji></p>\n<h1 dir=\"auto\">TODO</h1>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Confirm that the Pythonix source code can be used: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1566981515\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nix/issues/7735\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nix/pull/7735/hovercard?comment_id=1093829625&amp;comment_type=review_comment\" href=\"https://github.com/NixOS/nix/pull/7735#discussion_r1093829625\">#7735 (comment)</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Make the build work, both incrementally for development and in CI</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Mark as experimental (<a href=\"https://github.com/NixOS/nix/pull/7735#issuecomment-1415853274\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nix/pull/7735/hovercard\">decided by the Nix Team</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Write more tests</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Write documentation\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> How to develop the bindings</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Manual page for how to use the bindings</li>\n</ul>\n</li>\n</ul>\n<h1 dir=\"auto\">Context</h1>\n<p dir=\"auto\">The motivation for this is better tests for library functions in nixpkgs. Previous efforts:</p>\n<ul dir=\"auto\">\n<li>Using <a href=\"https://github.com/bats-core/bats-core\">bats</a>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1327316875\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/185022\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/185022/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/185022\">NixOS/nixpkgs#185022</a></li>\n<li>Using awk for generating property tests: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1485434623\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/205190\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/205190/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/205190\">NixOS/nixpkgs#205190</a>, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1519661931\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209099\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209099/hovercard?comment_id=1069177623&amp;comment_type=review_comment\" href=\"https://github.com/NixOS/nixpkgs/pull/209099#discussion_r1069177623\">NixOS/nixpkgs#209099 (comment)</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1558912770\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/212858\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/212858/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/212858\">NixOS/nixpkgs#212858</a></li>\n</ul>\n<p dir=\"auto\">In particular <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1558912770\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/212858\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/212858/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/212858\">NixOS/nixpkgs#212858</a> highlighted that property tests are currently either slow (if using the Nix CLI) or limited (if you work around this by cramming everything into a single Nix CLI call, which then means you can't test error messages anymore).</p>\n<p dir=\"auto\">I then instead focused on <a href=\"https://github.com/Mic92/pythonix\">Pythonix</a>, third-party Python bindings for the Nix evaluator. By using Python for testing we can use the Python ecosystem (such as property testing using <a href=\"https://hypothesis.readthedocs.io/\" rel=\"nofollow\">Hypothesis</a>), and by it linking to the Nix library it's much faster and we can test error messages too. Unfortunately Pythonix was archived due to being too hard to maintain, since the library interface isn't stable. So the fix is to just upstream it instead.</p>\n<h1 dir=\"auto\">Checklist for maintainers</h1>\n<p dir=\"auto\">Maintainers: tick if completed or explain if not relevant</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> agreed on idea</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> agreed on implementation strategy</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> tests, as appropriate\n<ul dir=\"auto\">\n<li>functional tests - <code class=\"notranslate\">tests/**.sh</code></li>\n<li>unit tests - <code class=\"notranslate\">src/*/tests</code></li>\n<li>integration tests - <code class=\"notranslate\">tests/nixos/*</code></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> documentation in the manual</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> code and comments are self-explanatory</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> commit message explains why the change was made</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> new feature or bug fix: updated release notes</li>\n</ul>",
            "url": "https://github.com/NixOS/nix/pull/7735",
            "title": "Experimental python bindings",
            "date_modified": "2023-04-21T08:52:09.000Z",
            "date_published": "2023-02-01T23:00:31.000Z",
            "author": {
                "name": "infinisil",
                "url": "https://github.com/infinisil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2548365?u=a9ab22e8b0e0089dc386633ed1fc292ba04e8d03&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/fgaz/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fgaz\">@fgaz</a> opening this as a draft to start a conversation.</p>\n<p dir=\"auto\">This PR repackages bash-supergenpass with resholve, a tool I develop to improve Shell packaging in Nixpkgs. resholve identifies unspecified dependencies, and rewrites external invocations to absolute paths so that end-users of Shell projects don't need to manually add dependencies to their system/user packages.</p>\n<p dir=\"auto\">I'm hoping to get to a simple yes/no on whether you're okay with the change (and confirmation that it isn't breaking any of your own uses, if you have some?), so I'm happy to field any questions you have to help you decide.</p>\n<p dir=\"auto\">(If we move forward, I'm happy to pick at any style/format/organization complaints you have :)</p>\n<details>\n<summary>For a little additional context, here's the resulting built script:</summary>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"#!/nix/store/z6rd8wq02azalrlm2m5k08iy53klg624-bash-5.1-p12/bin/bash\n\n################################################################################\n\ndefault_password_length=&quot;10&quot;\t### Default is 10. It can be overwritten on an individual basis by adding the custom length as a second argument after the domain when invoking the command.\ndefault_hashing_algorithm=&quot;md5&quot;\t\t### Default is &quot;md5&quot;. Alternate value is &quot;sha512&quot;. It can be overwritten with the third argument.\n\n################################################################################\n\ndomain=$(echo $1 | /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/tr A-Z a-z)\nlength=${2:-$default_password_length}\nhashing_algorithm=${3:-$default_hashing_algorithm}\n\nread -srp 'Password: ' master_password\n\nhash=$master_password:$domain\n\ni=0\nwhile true\ndo\n\thash=$(echo -n &quot;$hash&quot; | /nix/store/wih7p8yp6mi1d96ffrbbvsw6jdzigmm6-openssl-1.1.1m-bin/bin/openssl &quot;$hashing_algorithm&quot; -binary | /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/base64 | /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/tr -d '\\n' | /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/tr +/= 98A)\n\ti=$(($i + 1))\n\tif [ $i -lt 10 ]\n\tthen\n\t\tcontinue\n\tfi\n\tvalid=$(echo &quot;${hash:0:$length}&quot; | /nix/store/pkw9ckmar4dw7sgsszg8zgydfq4xc11k-gnugrep-3.7/bin/egrep '^[[:lower:]]' | /nix/store/pkw9ckmar4dw7sgsszg8zgydfq4xc11k-gnugrep-3.7/bin/egrep '.[[:upper:]]' | /nix/store/pkw9ckmar4dw7sgsszg8zgydfq4xc11k-gnugrep-3.7/bin/egrep '.[[:digit:]]')\n\tif [ &quot;$valid&quot; != &quot;&quot; ]\n\tthen\n\t\tbreak\n\tfi\ndone\necho ${hash:0:$length}\n\n### resholve directives (auto-generated) ## format_version: 2\n# resholve: keep /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/base64\n# resholve: keep /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/tr\n# resholve: keep /nix/store/pkw9ckmar4dw7sgsszg8zgydfq4xc11k-gnugrep-3.7/bin/egrep\n# resholve: keep /nix/store/wih7p8yp6mi1d96ffrbbvsw6jdzigmm6-openssl-1.1.1m-bin/bin/openssl\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#!</span>/nix/store/z6rd8wq02azalrlm2m5k08iy53klg624-bash-5.1-p12/bin/bash</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>###############################################################################</span>\n\ndefault_password_length=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>10<span class=\"pl-pds\">\"</span></span>\t<span class=\"pl-c\"><span class=\"pl-c\">#</span>## Default is 10. It can be overwritten on an individual basis by adding the custom length as a second argument after the domain when invoking the command.</span>\ndefault_hashing_algorithm=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>md5<span class=\"pl-pds\">\"</span></span>\t\t<span class=\"pl-c\"><span class=\"pl-c\">#</span>## Default is \"md5\". Alternate value is \"sha512\". It can be overwritten with the third argument.</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>###############################################################################</span>\n\ndomain=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>echo <span class=\"pl-smi\">$1</span> <span class=\"pl-k\">|</span> /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/tr A-Z a-z<span class=\"pl-pds\">)</span></span>\nlength=<span class=\"pl-smi\">${2<span class=\"pl-k\">:-</span><span class=\"pl-smi\">$default_password_length</span>}</span>\nhashing_algorithm=<span class=\"pl-smi\">${3<span class=\"pl-k\">:-</span><span class=\"pl-smi\">$default_hashing_algorithm</span>}</span>\n\n<span class=\"pl-c1\">read</span> -srp <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Password: <span class=\"pl-pds\">'</span></span> master_password\n\nhash=<span class=\"pl-smi\">$master_password</span>:<span class=\"pl-smi\">$domain</span>\n\ni=0\n<span class=\"pl-k\">while</span> <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">do</span>\n\thash=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>echo -n <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">$hash</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> /nix/store/wih7p8yp6mi1d96ffrbbvsw6jdzigmm6-openssl-1.1.1m-bin/bin/openssl <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">$hashing_algorithm</span><span class=\"pl-pds\">\"</span></span> -binary <span class=\"pl-k\">|</span> /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/base64 <span class=\"pl-k\">|</span> /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/tr -d <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\\n<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">|</span> /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/tr +/= 98A<span class=\"pl-pds\">)</span></span>\n\ti=<span class=\"pl-s\"><span class=\"pl-pds\">$((</span><span class=\"pl-smi\">$i</span> <span class=\"pl-k\">+</span> <span class=\"pl-c1\">1</span><span class=\"pl-pds\">))</span></span>\n\t<span class=\"pl-k\">if</span> [ <span class=\"pl-smi\">$i</span> <span class=\"pl-k\">-lt</span> 10 ]\n\t<span class=\"pl-k\">then</span>\n\t\t<span class=\"pl-k\">continue</span>\n\t<span class=\"pl-k\">fi</span>\n\tvalid=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>echo <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">${hash<span class=\"pl-k\">:</span>0<span class=\"pl-k\">:</span><span class=\"pl-smi\">$length</span>}</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> /nix/store/pkw9ckmar4dw7sgsszg8zgydfq4xc11k-gnugrep-3.7/bin/egrep <span class=\"pl-s\"><span class=\"pl-pds\">'</span>^[[:lower:]]<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">|</span> /nix/store/pkw9ckmar4dw7sgsszg8zgydfq4xc11k-gnugrep-3.7/bin/egrep <span class=\"pl-s\"><span class=\"pl-pds\">'</span>.[[:upper:]]<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">|</span> /nix/store/pkw9ckmar4dw7sgsszg8zgydfq4xc11k-gnugrep-3.7/bin/egrep <span class=\"pl-s\"><span class=\"pl-pds\">'</span>.[[:digit:]]<span class=\"pl-pds\">'</span></span><span class=\"pl-pds\">)</span></span>\n\t<span class=\"pl-k\">if</span> [ <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">$valid</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">!=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span> ]\n\t<span class=\"pl-k\">then</span>\n\t\t<span class=\"pl-c1\">break</span>\n\t<span class=\"pl-k\">fi</span>\n<span class=\"pl-k\">done</span>\n<span class=\"pl-c1\">echo</span> <span class=\"pl-smi\">${hash<span class=\"pl-k\">:</span>0<span class=\"pl-k\">:</span><span class=\"pl-smi\">$length</span>}</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>## resholve directives (auto-generated) ## format_version: 2</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> resholve: keep /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/base64</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> resholve: keep /nix/store/2hfc8dk1g3bsms4l4xf620x7ynslvq3k-coreutils-9.0/bin/tr</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> resholve: keep /nix/store/pkw9ckmar4dw7sgsszg8zgydfq4xc11k-gnugrep-3.7/bin/egrep</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> resholve: keep /nix/store/wih7p8yp6mi1d96ffrbbvsw6jdzigmm6-openssl-1.1.1m-bin/bin/openssl</span></pre></div>\n</details>\n<hr>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">Convert bash-supergenpass to use <code class=\"notranslate\">resholvePackage</code>.</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2205-release-notes\">22.05 Release Notes (or backporting 21.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Release notes changes) Ran <code class=\"notranslate\">nixos/doc/manual/md-to-db.sh</code> to update generated release notes</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/157236",
            "title": "bash-supergenpass: use resholvePackage",
            "date_modified": "2022-11-02T05:35:27.000Z",
            "date_published": "2022-01-29T05:32:44.000Z",
            "author": {
                "name": "abathur",
                "url": "https://github.com/abathur"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/382041?u=2d37dc3ad29ff648666cd73d85400098a779267b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">I managed to find a way to get around the <a href=\"https://hydra.nixos.org/build/219107158\" rel=\"nofollow\">output limit exceeded error</a>! - by building kernel device libs in separate derivations for each GPU target.</p>\n<p dir=\"auto\">(I verified this compiling for one GPU target, but just waiting on a <code class=\"notranslate\">nixpkgs-review</code> run to verify the complete build)</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2305-release-notes\">23.05 Release Notes (or backporting 22.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>\n",
            "url": "https://github.com/NixOS/nixpkgs/pull/230881",
            "title": "rocfft: split kernel compilation into separate derivations",
            "date_modified": "2023-05-24T14:28:43.000Z",
            "date_published": "2023-05-09T14:31:31.000Z",
            "author": {
                "name": "kira-bruneau",
                "url": "https://github.com/kira-bruneau"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/61180606?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Hello there.</p>\n<p dir=\"auto\">First off, thanks for the project! I just discovered it and I'm in the phase of getting familiar.</p>\n<p dir=\"auto\">I ran into an issue, though, when following the GTK install instructions (from the README) for the <code class=\"notranslate\">nix-shell</code>.</p>\n<h4 dir=\"auto\">TLDR</h4>\n<p dir=\"auto\">running the following the GTK et al. installation completed successfully:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"nix-shell -p '&lt;nixpkgs&gt;' gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig\"><pre class=\"notranslate\">nix-shell -p <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;nixpkgs&gt;<span class=\"pl-pds\">'</span></span> gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig</pre></div>\n<p dir=\"auto\"><br><br></p>\n<h4 dir=\"auto\">Not quite in-depth but more elaborate description</h4>\n<p dir=\"auto\">As mentioned above, the GTK install instructions from README for the <code class=\"notranslate\">nix-shell</code> didn't work for me.<br>\nThey appear to be out of date, so I went ahead and fixed them.<br>\nIn fact I just followed what <code class=\"notranslate\">nix-shell</code> told me to do and <em>that</em> <strong>did</strong> end up working.</p>\n<p dir=\"auto\">the change/fix as hinted by the <code class=\"notranslate\">nix-shell</code></p>\n<div class=\"highlight highlight-source-diff notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"-nix-shell -p '&lt;nixpkgs&gt;' gtk4 gnome3.gtk gobjectIntrospection pkgconfig\n+nix-shell -p '&lt;nixpkgs&gt;' gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig\"><pre class=\"notranslate\"><span class=\"pl-md\"><span class=\"pl-md\">-</span>nix-shell -p '&lt;nixpkgs&gt;' gtk4 gnome3.gtk gobjectIntrospection pkgconfig</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>nix-shell -p '&lt;nixpkgs&gt;' gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig</span></pre></div>\n<h5 dir=\"auto\">Output from the original command, which failed:</h5>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"~\n ‚ûú  nix-shell -p '&lt;nixpkgs&gt;' gtk4 gnome3.gtk gobjectIntrospection pkgconfig\nerror: The ‚Äògnome.gtk‚Äô alias was removed on 2022-01-13. Please use ‚Äòpkgs.gtk3‚Äô directly.\n(use '--show-trace' to show detailed location information)\n\n~\n (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª 1 üî•\"><pre class=\"notranslate\"><span class=\"pl-k\">~</span>\n ‚ûú  nix-shell -p <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;nixpkgs&gt;<span class=\"pl-pds\">'</span></span> gtk4 gnome3.gtk gobjectIntrospection pkgconfig\nerror: The ‚Äògnome.gtk‚Äô <span class=\"pl-c1\">alias</span> was removed on 2022-01-13. Please use ‚Äòpkgs.gtk3‚Äô directly.\n(use <span class=\"pl-s\"><span class=\"pl-pds\">'</span>--show-trace<span class=\"pl-pds\">'</span></span> to show detailed location information)\n\n<span class=\"pl-k\">~</span>\n (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª 1 üî•</pre></div>\n<p dir=\"auto\">pic (it did happen):<br>\n<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/61180606/154338167-363579b1-a667-4ff2-aafd-cb6d726b5104.png\"><img src=\"https://user-images.githubusercontent.com/61180606/154338167-363579b1-a667-4ff2-aafd-cb6d726b5104.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<h5 dir=\"auto\">Output from the fixed command:</h5>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"~\n (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª 1 üî• nix-shell -p '&lt;nixpkgs&gt;' gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig these 334 paths will be fetched (275.79 MiB download, 1187.41 MiB unpacked):\n  /nix/store/043lz8mvyx5vxl058c1i586yqc8ax4ig-glibc-2.33-108-bin\n  /nix/store/04yj0nllw5bqzzlay5m6zzbmyw7csgnk-glu-9.0.2\n  /nix/store/06zvvrv13xrmjqkcwyh5x9yxvgx4hvqz-libseccomp-2.5.3-lib\n\n...\n... hundreds of lines later\n...\n\ncopying path '/nix/store/h8k91x18zynw58yc0k34wv5i2k0jfijx-gtk4-4.6.0' from 'https://cache.nixos.org'...\ncopying path '/nix/store/apgij5a7rsa8d0j5zxdl2ji3vr8kji5g-gtk4-4.6.0-dev' from 'https://cache.nixos.org'...\n\n~ via ‚ùÑÔ∏è  impure (shell)\n ‚ûú  gtk4-&lt;TAB&gt;&lt;TAB&gt;\ngtk4-broadwayd            gtk4-demo-application     gtk4-launch               gtk4-update-icon-cache\ngtk4-builder-tool         gtk4-encode-symbolic-svg  gtk4-print-editor         gtk4-widget-factory\ngtk4-demo                 gtk4-icon-browser         gtk4-query-settings\n\n~ via ‚ùÑÔ∏è  impure (shell)\n ‚ûú  which gtk4-demo\n/nix/store/apgij5a7rsa8d0j5zxdl2ji3vr8kji5g-gtk4-4.6.0-dev/bin/gtk4-demo\"><pre class=\"notranslate\"><span class=\"pl-k\">~</span>\n (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª 1 üî• nix-shell -p <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;nixpkgs&gt;<span class=\"pl-pds\">'</span></span> gtk4 pkgs.gtk3 gobjectIntrospection pkgconfig these 334 paths will be fetched (275.79 MiB download, 1187.41 MiB unpacked):\n  /nix/store/043lz8mvyx5vxl058c1i586yqc8ax4ig-glibc-2.33-108-bin\n  /nix/store/04yj0nllw5bqzzlay5m6zzbmyw7csgnk-glu-9.0.2\n  /nix/store/06zvvrv13xrmjqkcwyh5x9yxvgx4hvqz-libseccomp-2.5.3-lib\n\n...\n... hundreds of lines later\n...\n\ncopying path <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/nix/store/h8k91x18zynw58yc0k34wv5i2k0jfijx-gtk4-4.6.0<span class=\"pl-pds\">'</span></span> from <span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://cache.nixos.org<span class=\"pl-pds\">'</span></span>...\ncopying path <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/nix/store/apgij5a7rsa8d0j5zxdl2ji3vr8kji5g-gtk4-4.6.0-dev<span class=\"pl-pds\">'</span></span> from <span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://cache.nixos.org<span class=\"pl-pds\">'</span></span>...\n\n<span class=\"pl-k\">~</span> via ‚ùÑÔ∏è  impure (shell)\n ‚ûú  gtk4-<span class=\"pl-k\">&lt;</span>TAB&gt;&lt;TAB<span class=\"pl-k\">&gt;</span>\ngtk4-broadwayd            gtk4-demo-application     gtk4-launch               gtk4-update-icon-cache\ngtk4-builder-tool         gtk4-encode-symbolic-svg  gtk4-print-editor         gtk4-widget-factory\ngtk4-demo                 gtk4-icon-browser         gtk4-query-settings\n\n<span class=\"pl-k\">~</span> via ‚ùÑÔ∏è  impure (shell)\n ‚ûú  which gtk4-demo\n/nix/store/apgij5a7rsa8d0j5zxdl2ji3vr8kji5g-gtk4-4.6.0-dev/bin/gtk4-demo</pre></div>\n<p dir=\"auto\">pic (this also did happen):<br>\n<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/61180606/154344227-5547b59b-3e63-40a9-9373-37524bc3e039.png\"><img src=\"https://user-images.githubusercontent.com/61180606/154344227-5547b59b-3e63-40a9-9373-37524bc3e039.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">Hope this is OK.</p>\n<p dir=\"auto\">Cheers!</p>",
            "url": "https://github.com/diamondburned/gotk4-examples/pull/14",
            "title": "readme: fix nix-shell installation instructions",
            "date_modified": "2022-03-24T21:21:23.000Z",
            "date_published": "2022-02-16T19:53:40.000Z",
            "author": {
                "name": "wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf",
                "url": "https://github.com/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54836058?u=9a136f822864d980a6ff49700e60e1f11502295e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\"><strong>I would like to emphasize that the point of this PR is avoiding technical debt in <code class=\"notranslate\">stdenv</code>.  The fact that it <a href=\"https://github.com/NixOS/nixpkgs/pull/209462#issuecomment-1374609543\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209462/hovercard\">saves rebuilds in some situations</a> is just an added bonus.</strong></p>\n<p dir=\"auto\">This PR is <a href=\"https://github.com/NixOS/nixpkgs/pull/209462/commits/12408bcf9336f7817a10953e9f0b932031f1f297\">a two-line change</a>, trivial to revert.  Its parent PR, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1523734733\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209459\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209459/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/209459\">#209459</a>, is independently useful, and in any event doesn't muck around with the internals of the stdenv stages.</p>\n<p dir=\"auto\">This PR has a child, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1524255088\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209601\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209601/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/209601\">#209601</a>, which greatly reduces the amount of aarch64 rebuilds, at the expense of complexity.  I'm not sure the complexity is worth it; the point of that PR is to show that there are various complexity/performance tradeoff points available to choose from.</p>\n<p dir=\"auto\">Motivation:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1514866292\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/208412\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/208412/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/208412\">#208412</a></li>\n</ul>\n<p dir=\"auto\">Incorporates changes from:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1523734733\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209459\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209459/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/209459\">#209459</a></li>\n</ul>\n<p dir=\"auto\">Should fix:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"777259019\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/108111\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/108111/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/108111\">#108111</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"777610981\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/108305\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/108305/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/108305\">#108305</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1448851055\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/201254\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/201254/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/201254\">#201254</a></li>\n</ul>\n<p dir=\"auto\">Alternative to:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1519313711\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/209063\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/209063/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/209063\">#209063</a></li>\n</ul>\n<h6 dir=\"auto\">Things done</h6>\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux (in progress)</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/209462",
            "title": "aarch64: enable rebootstrap, upgrade to gcc11",
            "date_modified": "2023-03-10T06:22:01.000Z",
            "date_published": "2023-01-07T11:44:33.000Z",
            "author": {
                "name": "amjoseph-nixpkgs",
                "url": "https://github.com/amjoseph-nixpkgs"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/722550?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h6 dir=\"auto\">Description of changes</h6>\n<p dir=\"auto\">Further to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1404769629\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/195532\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/195532/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/195532\">#195532</a>.</p>\n<p dir=\"auto\">This is untested but was faster than explaining what I meant.</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2211-release-notes\">22.11 Release Notes (or backporting 22.05 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Release notes changes) Ran <code class=\"notranslate\">nixos/doc/manual/md-to-db.sh</code> to update generated release notes</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/202277",
            "title": "msmtp: need ping from inetutils on darwin",
            "date_modified": "2022-12-18T21:54:39.000Z",
            "date_published": "2022-11-22T01:49:14.000Z",
            "author": {
                "name": "peterhoeg",
                "url": "https://github.com/peterhoeg"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/750786?u=06b6e032b60550f708bad045fd8bc1d2197a3680&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">The current version of cockroachdb has reached EOL about a month ago.</p>\n<h6 dir=\"auto\">Things done</h6>\n<ul dir=\"auto\">\n<li>Removed the EOL version</li>\n<li>Added a generic builder to support multiple versions</li>\n<li>Added the three versions that are still supported in some way</li>\n</ul>\n\n<ul class=\"contains-task-list\">\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> x86_64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-linux</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> x86_64-darwin</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> aarch64-darwin</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> For non-Linux: Is <code class=\"notranslate\">sandbox = true</code> set in <code class=\"notranslate\">nix.conf</code>? (See <a href=\"https://nixos.org/manual/nix/stable/command-ref/conf-file.html\" rel=\"nofollow\">Nix manual</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested, as applicable:\n<ul dir=\"auto\">\n<li><a href=\"https://nixos.org/manual/nixos/unstable/index.html#sec-nixos-tests\" rel=\"nofollow\">NixOS test(s)</a> (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li>and/or <a href=\"https://nixos.org/manual/nixpkgs/unstable/#sec-package-tests\" rel=\"nofollow\">package tests</a></li>\n<li>or, for functions and \"core\" functionality, tests in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/tests\">lib/tests</a> or <a href=\"https://github.com/NixOS/nixpkgs/blob/master/pkgs/test\">pkgs/test</a></li>\n<li>made sure NixOS tests are <a href=\"https://nixos.org/manual/nixpkgs/unstable/#ssec-nixos-tests-linking\" rel=\"nofollow\">linked</a> to the relevant packages</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all packages that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review rev HEAD\"</code>. Note: all changes have to be committed, also see <a href=\"https://github.com/Mic92/nixpkgs-review#usage\">nixpkgs-review usage</a></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested basic functionality of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li><a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md#generating-2205-release-notes\">22.05 Release Notes (or backporting 21.11 Release notes)</a>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Package updates) Added a release notes entry if the change is major or breaking</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module updates) Added a release notes entry if the change is significant</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Module addition) Added a release notes entry if adding a new NixOS module</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> (Release notes changes) Ran <code class=\"notranslate\">nixos/doc/manual/md-to-db.sh</code> to update generated release notes</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/152626",
            "title": "CockroachDB: 20.1.8 -> {20.2.18, 21.1.13, 21.2.4}",
            "date_modified": "2023-02-09T14:56:12.000Z",
            "date_published": "2021-12-29T21:28:58.000Z",
            "author": {
                "name": "ankhers",
                "url": "https://github.com/ankhers"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/902012?u=d339681f7565a77f5bb1b4bb611251cd8f66ca9f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h6 dir=\"auto\">Motivation for this change</h6>\n<p dir=\"auto\">Updating darwin.xnu, this should fix most header issues in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"726063942\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/101229\" data-hovercard-type=\"issue\" data-hovercard-url=\"/NixOS/nixpkgs/issues/101229/hovercard\" href=\"https://github.com/NixOS/nixpkgs/issues/101229\">#101229</a>.<br>\nIt contains part of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"786057283\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/109368\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/109368/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/109368\">#109368</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"792789019\" data-permission-text=\"Title is private\" data-url=\"https://github.com/NixOS/nixpkgs/issues/110685\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NixOS/nixpkgs/pull/110685/hovercard\" href=\"https://github.com/NixOS/nixpkgs/pull/110685\">#110685</a> , only last commit is really related to this PR.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewbauer/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewbauer\">@matthewbauer</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/veprbl/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/veprbl\">@veprbl</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/siraben/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/siraben\">@siraben</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/SuperSandro2000/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SuperSandro2000\">@SuperSandro2000</a> , could some one call ofborg test darwin.xnu darwin.Libsystem ?</p>\n<h6 dir=\"auto\">Things done</h6>\n\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested using sandboxing (<a href=\"https://nixos.org/nixos/manual/options.html#opt-nix.useSandbox\" rel=\"nofollow\">nix.useSandbox</a> on NixOS, or option <code class=\"notranslate\">sandbox</code> in <a href=\"https://nixos.org/nix/manual/#sec-conf-file\" rel=\"nofollow\"><code class=\"notranslate\">nix.conf</code></a> on non-NixOS linux)</li>\n<li>Built on platform(s)\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> NixOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> macOS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> other Linux distributions</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested via one or more NixOS test(s) if existing and applicable for the change (look inside <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/tests\">nixos/tests</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested compilation of all pkgs that depend on this change using <code class=\"notranslate\">nix-shell -p nixpkgs-review --run \"nixpkgs-review wip\"</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tested execution of all binary files (usually in <code class=\"notranslate\">./result/bin/</code>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Determined the impact on package closure size (by running <code class=\"notranslate\">nix path-info -S</code> before and after)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Ensured that relevant documentation is up to date</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Fits <a href=\"https://github.com/NixOS/nixpkgs/blob/master/.github/CONTRIBUTING.md\">CONTRIBUTING.md</a>.</li>\n</ul>",
            "url": "https://github.com/NixOS/nixpkgs/pull/110840",
            "title": "darwin.xnu: update and restructure",
            "date_modified": "2022-01-03T20:35:12.000Z",
            "date_published": "2021-01-26T11:08:33.000Z",
            "author": {
                "name": "holymonson",
                "url": "https://github.com/holymonson"
            }
        }
    ]
}